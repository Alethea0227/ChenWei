<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="tbl_sign_points">
  <resultMap id="BaseResultMap" type="com.i2shopping.i2work.operation.core.sign.model.SignPoints">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Mon Jun 29 21:14:58 CST 2015.
    -->
    <result column="SIGN_ID" property="signId" jdbcType="VARCHAR"/>
    <result column="EMPLOYEE_ID" property="employeeId" jdbcType="VARCHAR"/>
    <result column="SIGN_MULTIPLE_POINT" property="signMultiplePoint" jdbcType="DOUBLE"/>
    <result column="SIGN_POINT_DATE" property="signPointDate" jdbcType="DATE"/>
    <result column="BUSYNESS_GRADE" property="busynessGrade" jdbcType="DOUBLE"/>
    <result column="CONTRACT_NO" property="contractNo" jdbcType="VARCHAR"/>
    <result column="RANK_TYPE" property="rankType" jdbcType="VARCHAR"/>
    <result column="UNRESOLVER_BUG_COUNT" property="unresolverBugCount" jdbcType="INTEGER"/>
    <result column="QUALITY_SCORE" property="qualityScore" jdbcType="DOUBLE"/>
    <result column="COMPLETE_SCORE" property="completeScore" jdbcType="DOUBLE"/>
  </resultMap>
  <resultMap id="BaseResultMapEx" type="com.i2shopping.i2work.operation.core.sign.model.SignPoints">
    <result column="EMPLOYEE_ID" property="employeeId" jdbcType="VARCHAR"/>
    <result column="CONTRACT_NO" property="contractNo" jdbcType="VARCHAR"/>
    <result column="SIGN_MULTIPLE_POINT" property="signMultiplePoint" jdbcType="DOUBLE"/>
    <result column="BUSYNESS_GRADE" property="busynessGrade" jdbcType="DOUBLE"/>
    <result column="QUALITY_SCORE" property="qualityScore" jdbcType="DOUBLE"/>
    <result column="COMPLETE_SCORE" property="completeScore" jdbcType="DOUBLE"/>
    <result column="UNRESOLVER_BUG_COUNT" property="unresolverBugCount" jdbcType="INTEGER"/>
  </resultMap>
  <!-- 定时批量处理专用sql 请勿改动 -->
  <resultMap id="BaseResultMapExSchedule" type="com.i2shopping.i2work.operation.core.sign.model.SignPoints">
    <result column="EMPLOYEE_ID" property="employeeId" jdbcType="VARCHAR"/>
    <result column="CONTRACT_NO" property="contractNo" jdbcType="VARCHAR"/>
    <result column="SIGN_MULTIPLE_POINT" property="signMultiplePoint" jdbcType="DOUBLE"/>
    <result column="BUSYNESS_GRADE" property="busynessGrade" jdbcType="DOUBLE"/>
    <result column="QUALITY_SCORE" property="qualityScore" jdbcType="DOUBLE"/>
    <result column="COMPLETE_SCORE" property="completeScore" jdbcType="DOUBLE"/>
  </resultMap>
  <resultMap id="EmployeePointMap" type="com.i2shopping.i2work.operation.core.employee.model.EmployeePoint">
    <result column="topRank" property="topRank" jdbcType="VARCHAR"/>
    <result column="EMPLOYEE_ID" property="employeeId" jdbcType="VARCHAR"/>
    <result column="EMPLOYEE_DUTY" property="employeeDuty" jdbcType="VARCHAR"/>
    <result column="EMPLOYEE_NAME" property="employeeName" jdbcType="VARCHAR"/>
    <result column="IMAGE_ID" property="imageId" jdbcType="VARCHAR"/>
    <result column="point" property="point" jdbcType="DOUBLE"/>
    <result column="busyness" property="busyness" jdbcType="DOUBLE"/>
    <result column="UNRESOLVER_BUG_COUNT" property="currentBug" jdbcType="INTEGER"/>
    <result column="qualityScore" property="qualityScore" jdbcType="DOUBLE"/>
    <result column="completeScore" property="completeScore" jdbcType="DOUBLE"/>
  </resultMap>
  <sql id="Criteria_Where_Clause"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Mon Jun 29 21:14:58 CST 2015.
    -->  
    <iterate property="oredCriteria" conjunction="or" prepend="where" removeFirstPrepend="iterate"> 
      <if test="oredCriteria[].valid!= null and oredCriteria[].valid == 'true'.toString()">( 
        <iterate prepend="and" property="oredCriteria[].criteriaWithoutValue" conjunction="and">$oredCriteria[].criteriaWithoutValue[]$</iterate>  
        <iterate prepend="and" property="oredCriteria[].criteriaWithSingleValue" conjunction="and">$oredCriteria[].criteriaWithSingleValue[].condition$ #{oredCriteria[].criteriaWithSingleValue[].value}</iterate>  
        <iterate prepend="and" property="oredCriteria[].criteriaWithListValue" conjunction="and">$oredCriteria[].criteriaWithListValue[].condition$
          <iterate property="oredCriteria[].criteriaWithListValue[].values" open="(" close=")" conjunction=",">#{oredCriteria[].criteriaWithListValue[].values[]}</iterate> 
        </iterate>  
        <iterate prepend="and" property="oredCriteria[].criteriaWithBetweenValue" conjunction="and">$oredCriteria[].criteriaWithBetweenValue[].condition$ #{oredCriteria[].criteriaWithBetweenValue[].values[0]} and #{oredCriteria[].criteriaWithBetweenValue[].values[1]}</iterate> )
      </if> 
    </iterate> 
  </sql>
  <sql id="tbl_sign_points.points_Where_Clause"> 
    <if test="signId != null and signId != ''">and tbl_sign_points.SIGN_ID = #{signId:VARCHAR}</if>  
    <if test="employeeId != null and employeeId != ''">and tbl_sign_points.EMPLOYEE_ID = #{employeeId:VARCHAR}</if>  
    <if test="signMultiplePoint != null and signMultiplePoint != ''">and tbl_sign_points.SIGN_MULTIPLE_POINT = #{signMultiplePoint:DOUBLE}</if>  
    <if test="signPointDate != null and signPointDate != ''">and tbl_sign_points.SIGN_POINT_DATE = #{signPointDate:VARCHAR}</if>  
    <if test="busynessGrade != null and busynessGrade != ''">and tbl_sign_points.BUSYNESS_GRADE = #{busynessGrade:DOUBLE}</if>  
    <if test="contractNo != null and contractNo != ''">and tbl_sign_points.CONTRACT_NO = #{contractNo:VARCHAR}</if>  
    <if test="rankType != null and rankType != ''">and tbl_sign_points.RANK_TYPE = #{rankType:VARCHAR}</if>  
    <!-- 在该用户群中 -->  
    <trim prefix=" AND tbl_sign_points.EMPLOYEE_ID IN "> 
      <if test="properties != null"> 
        <if test="properties.employeeList != null"> 
          <iterate property="properties.employeeList" open="(" close=")" conjunction=",">#{properties.employeeList[]}</iterate> 
        </if> 
      </if> 
    </trim>  
    <if test="properties.beginTime != null and properties.beginTime != ''">and date_format(tbl_sign_points.sign_point_date,'%Y-%m-%d')&gt;= #{properties.beginTime:VARCHAR}</if>  
    <if test="properties.endTime != null and properties.endTime != ''">and date_format(tbl_sign_points.sign_point_date,'%Y-%m-%d')&lt;= #{properties.endTime:VARCHAR}</if> 
  </sql>
  <!-- 查询项目平均得分 -->
  <select id="selectSignPointVoByConstantNo" resultMap="BaseResultMap" parameterType="com.i2shopping.i2work.operation.core.sign.model.SignPoints">select SIGN_ID, EMPLOYEE_ID, cast(avg(SIGN_MULTIPLE_POINT)as decimal(5,1)) SIGN_MULTIPLE_POINT, SIGN_POINT_DATE, cast(avg(BUSYNESS_GRADE)as decimal(5,1)) BUSYNESS_GRADE, CONTRACT_NO, RANK_TYPE, UNRESOLVER_BUG_COUNT, cast(avg(QUALITY_SCORE)as decimal(5,1)) QUALITY_SCORE, cast(avg(COMPLETE_SCORE)as decimal(5,1)) COMPLETE_SCORE from tbl_sign_points where contract_no = #{contractNo:VARCHAR}
    <if test="rankType != null and rankType != ''">and rank_type = #{rankType:VARCHAR}</if>  
    <if test="properties.beginTime != null and properties.beginTime != ''">and date_format(sign_point_date,'%Y-%m-%d')&gt;= #{properties.beginTime:VARCHAR}</if>  
    <if test="properties.endTime != null and properties.endTime != ''">and date_format(sign_point_date,'%Y-%m-%d')&lt; #{properties.endTime:VARCHAR}</if> group by contract_no
  </select>
  <!-- 查询部门今天工作完成情况 -->
  <select id="selectSignPointsByDepartmentId" resultMap="BaseResultMap" parameterType="com.i2shopping.i2work.operation.core.sign.model.SignPoints">select SIGN_ID, EMPLOYEE_ID, cast(avg(SIGN_MULTIPLE_POINT) as decimal(5,1)) SIGN_MULTIPLE_POINT, SIGN_POINT_DATE, cast(avg(BUSYNESS_GRADE) as decimal(5,1)) BUSYNESS_GRADE, CONTRACT_NO, RANK_TYPE, UNRESOLVER_BUG_COUNT, cast(avg(QUALITY_SCORE) as decimal(5,1)) QUALITY_SCORE, cast(avg(COMPLETE_SCORE) as decimal(5,1)) COMPLETE_SCORE from tbl_sign_points where 1=1
    <trim prefix=" AND contract_no IN "> 
      <if test="properties != null"> 
        <if test="properties.constractNoList != null"> 
          <iterate property="properties.constractNoList" open="(" close=")" conjunction=",">#{properties.constractNoList[]}</iterate> 
        </if> 
      </if> 
    </trim>  
    <if test="rankType != null and rankType != ''">and rank_type = #{rankType:VARCHAR}</if>  
    <if test="properties.beginTime != null and properties.beginTime != ''">and date_format(sign_point_date,'%Y-%m-%d') = #{properties.beginTime:VARCHAR}</if> group by sign_point_date
  </select>
  <!-- 查询项目组工作完成情况 -->
  <select id="selectSignPointsByContractNo" resultMap="BaseResultMap" parameterType="com.i2shopping.i2work.operation.core.sign.model.SignPoints">select SIGN_ID, EMPLOYEE_ID, cast(avg(SIGN_MULTIPLE_POINT)as decimal(5,1)) SIGN_MULTIPLE_POINT, SIGN_POINT_DATE, cast(avg(BUSYNESS_GRADE)as decimal(5,1)) BUSYNESS_GRADE, CONTRACT_NO, RANK_TYPE, UNRESOLVER_BUG_COUNT, cast(avg(QUALITY_SCORE)as decimal(5,1)) QUALITY_SCORE, cast(avg(COMPLETE_SCORE)as decimal(5,1)) COMPLETE_SCORE from tbl_sign_points where contract_no = #{contractNo:VARCHAR}
    <if test="rankType != null and rankType != ''">and rank_type = #{rankType:VARCHAR}</if>  
    <if test="properties.beginTime != null and properties.beginTime != ''">and date_format(sign_point_date,'%Y-%m-%d')&gt;= #{properties.beginTime:VARCHAR}</if>  
    <if test="properties.endTime != null and properties.endTime != ''">and date_format(sign_point_date,'%Y-%m-%d')&lt; #{properties.endTime:VARCHAR}</if> group by sign_point_date order by sign_point_date
  </select>
  <!-- 查询员工作完成情况 -->
  <select id="selectSignPointsByEmployeeId" resultMap="BaseResultMap" parameterType="com.i2shopping.i2work.operation.core.sign.model.SignPoints">select * from tbl_sign_points where employee_id = #{employeeId:VARCHAR} 
    <if test="rankType != null and rankType != ''">and rank_type = #{rankType:VARCHAR}</if>  
    <if test="properties.beginTime != null and properties.beginTime != ''">and date_format(sign_point_date,'%Y-%m-%d')&gt;= #{properties.beginTime:VARCHAR}</if>  
    <if test="properties.endTime != null and properties.endTime != ''">and date_format(sign_point_date,'%Y-%m-%d')&lt; #{properties.endTime:VARCHAR}</if> order by sign_point_date
  </select>
  <!-- 查询员工昨日完成情况 -->
  <select id="selectYesterdaySignPoints" resultMap="BaseResultMapEx" parameterType="com.i2shopping.i2work.operation.core.sign.model.SignPoints">select * from tbl_sign_points where EMPLOYEE_ID = #{employeeId:VARCHAR} and rank_type = '1' 
    <if test="properties.queryDate != null and properties.queryDate != ''">and date_format(sign_point_date,'%Y-%m-%d') = #{properties.queryDate:VARCHAR}</if> 
  </select>
  <select id="selectEmployeePointAvg" resultMap="BaseResultMapExSchedule" parameterType="com.i2shopping.i2work.operation.core.sign.model.SignPoints">select p.EMPLOYEE_ID, cast(avg(p.SIGN_MULTIPLE_POINT) as decimal(5,1)) SIGN_MULTIPLE_POINT , cast(avg(p.BUSYNESS_GRADE) as decimal(5,1)) BUSYNESS_GRADE , cast(avg(p.QUALITY_SCORE) as decimal(5,1)) QUALITY_SCORE ,cast(avg(p.COMPLETE_SCORE) as decimal(5,1)) COMPLETE_SCORE , p.CONTRACT_NO from tbl_sign_points p where 1=1
    <if test="rankType != null and rankType != ''">and p.RANK_TYPE = #{rankType:VARCHAR}</if>  
    <if test="contractNo != null and contractNo != ''">and p.CONTRACT_NO = #{contractNo:VARCHAR}</if>  
    <if test="properties.beginTime != null and properties.beginTime != ''">and date_format(p.sign_point_date,'%Y-%m-%d')&gt;= #{properties.beginTime:VARCHAR}</if>  
    <if test="properties.endTime != null and properties.endTime != ''">and date_format(p.sign_point_date,'%Y-%m-%d')&lt; #{properties.endTime:VARCHAR}</if> group by p.EMPLOYEE_ID order by cast(avg(p.SIGN_MULTIPLE_POINT) as decimal(5,1)) desc, cast(avg(p.BUSYNESS_GRADE) as decimal(5,1)) desc
  </select>
  <select id="selectEmployeePoint" resultMap="EmployeePointMap" parameterType="com.i2shopping.i2work.operation.core.sign.model.SignPoints">select (@rowNum:=@rowNum+1) as topRank, i.employee_id, i.employee_duty,i.employee_name ,i.image_id, cast(avg(p.SIGN_MULTIPLE_POINT) as decimal(5,1)) point, cast(avg(p.BUSYNESS_GRADE) as decimal(5,1)) busyness ,cast(avg(p.QUALITY_SCORE) as decimal(5,1)) qualityScore , cast(avg(p.COMPLETE_SCORE) as decimal(5,1)) completeScore , p.UNRESOLVER_BUG_COUNT from tbl_sign_points p,tbl_employee_info i , (Select (@rowNum :=0) ) b where p.employee_id = i.employee_id
    <if test="rankType != null and rankType != ''">and p.RANK_TYPE = #{rankType:VARCHAR}</if>  
    <if test="properties.beginTime != null and properties.beginTime != ''">and date_format(p.sign_point_date,'%Y-%m-%d')&gt;= #{properties.beginTime:VARCHAR}</if>  
    <if test="properties.endTime != null and properties.endTime != ''">and date_format(p.sign_point_date,'%Y-%m-%d')&lt; #{properties.endTime:VARCHAR}</if>  
    <trim prefix=" AND p.employee_id IN "> 
      <if test="properties != null"> 
        <if test="properties.employeeList != null"> 
          <iterate property="properties.employeeList" open="(" close=")" conjunction=",">#{properties.employeeList[]}</iterate> 
        </if> 
      </if> 
    </trim> group by p.EMPLOYEE_ID order by point desc, busyness desc
  </select>
  <!-- bug排名 -->
  <select id="selectEmployeePointBug" resultMap="EmployeePointMap" parameterType="com.i2shopping.i2work.operation.core.sign.model.SignPoints">select (@rowNum:=@rowNum+1) as topRank, i.employee_id, i.employee_duty,i.employee_name ,i.image_id, p.SIGN_MULTIPLE_POINT point , p.BUSYNESS_GRADE busyness, p.QUALITY_SCORE qualityScore , p.COMPLETE_SCORE completeScore , p.UNRESOLVER_BUG_COUNT from tbl_sign_points p,tbl_employee_info i , (Select (@rowNum :=0) ) b where p.employee_id = i.employee_id
    <if test="rankType != null and rankType != ''">and p.RANK_TYPE = #{rankType:VARCHAR}</if>  
    <if test="properties.beginTime != null and properties.beginTime != ''">and date_format(p.sign_point_date,'%Y-%m-%d')= #{properties.beginTime:VARCHAR}</if>  
    <trim prefix=" AND p.employee_id IN "> 
      <if test="properties != null"> 
        <if test="properties.employeeList != null"> 
          <iterate property="properties.employeeList" open="(" close=")" conjunction=",">#{properties.employeeList[]}</iterate> 
        </if> 
      </if> 
    </trim> order by p.UNRESOLVER_BUG_COUNT desc
  </select>
  <select id="selectByCriteria" resultMap="BaseResultMap" parameterType="com.i2shopping.i2work.operation.core.sign.model.SignPointsCriteria"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Aug 05 16:39:15 CST 2015.
    --> select SIGN_ID, EMPLOYEE_ID, SIGN_MULTIPLE_POINT, SIGN_POINT_DATE, BUSYNESS_GRADE, CONTRACT_NO, RANK_TYPE, UNRESOLVER_BUG_COUNT, QUALITY_SCORE, COMPLETE_SCORE from tbl_sign_points
    <if test="_parameter != null"> 
      <include refid="tbl_sign_points.Criteria_Where_Clause"/>  
      <if test="orderByClause != null">order by ${orderByClause}</if> 
    </if> 
  </select>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="com.i2shopping.i2work.operation.core.sign.model.SignPoints"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Aug 05 16:39:15 CST 2015.
    --> select SIGN_ID, EMPLOYEE_ID, SIGN_MULTIPLE_POINT, SIGN_POINT_DATE, BUSYNESS_GRADE, CONTRACT_NO, RANK_TYPE, UNRESOLVER_BUG_COUNT, QUALITY_SCORE, COMPLETE_SCORE from tbl_sign_points where SIGN_ID = #{signId:VARCHAR}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="com.i2shopping.i2work.operation.core.sign.model.SignPoints"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Aug 05 16:39:15 CST 2015.
    --> delete from tbl_sign_points where SIGN_ID = #{signId:VARCHAR}
  </delete>
  <delete id="deleteByCriteria" parameterType="com.i2shopping.i2work.operation.core.sign.model.SignPointsCriteria"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Aug 05 16:39:15 CST 2015.
    --> delete from tbl_sign_points 
    <include refid="tbl_sign_points.Criteria_Where_Clause"/> 
  </delete>
  <insert id="insert" parameterType="com.i2shopping.i2work.operation.core.sign.model.SignPoints"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Aug 05 16:39:15 CST 2015.
    --> insert into tbl_sign_points (SIGN_ID, EMPLOYEE_ID, SIGN_MULTIPLE_POINT, SIGN_POINT_DATE, BUSYNESS_GRADE, CONTRACT_NO, RANK_TYPE, UNRESOLVER_BUG_COUNT, QUALITY_SCORE, COMPLETE_SCORE) values (#{signId:VARCHAR}, #{employeeId:VARCHAR}, #{signMultiplePoint:DOUBLE}, #{signPointDate:DATE}, #{busynessGrade:DOUBLE}, #{contractNo:VARCHAR}, #{rankType:VARCHAR}, #{unresolverBugCount:INTEGER}, #{qualityScore:DOUBLE}, #{completeScore:DOUBLE})
  </insert>
  <insert id="insertSelective" parameterType="com.i2shopping.i2work.operation.core.sign.model.SignPoints"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Aug 05 16:39:15 CST 2015.
    --> insert into tbl_sign_points 
    <trim prefix="("> 
      <if test="signId != null">SIGN_ID ,</if>  
      <if test="employeeId != null">EMPLOYEE_ID ,</if>  
      <if test="signMultiplePoint != null">SIGN_MULTIPLE_POINT ,</if>  
      <if test="signPointDate != null">SIGN_POINT_DATE ,</if>  
      <if test="busynessGrade != null">BUSYNESS_GRADE ,</if>  
      <if test="contractNo != null">CONTRACT_NO ,</if>  
      <if test="rankType != null">RANK_TYPE ,</if>  
      <if test="unresolverBugCount != null">UNRESOLVER_BUG_COUNT ,</if>  
      <if test="qualityScore != null">QUALITY_SCORE ,</if>  
      <if test="completeScore != null">COMPLETE_SCORE ,</if> )
    </trim> values 
    <trim prefix="("> 
      <if test="signId != null">#{signId:VARCHAR} ,</if>  
      <if test="employeeId != null">#{employeeId:VARCHAR} ,</if>  
      <if test="signMultiplePoint != null">#{signMultiplePoint:DOUBLE} ,</if>  
      <if test="signPointDate != null">#{signPointDate:DATE} ,</if>  
      <if test="busynessGrade != null">#{busynessGrade:DOUBLE} ,</if>  
      <if test="contractNo != null">#{contractNo:VARCHAR} ,</if>  
      <if test="rankType != null">#{rankType:VARCHAR} ,</if>  
      <if test="unresolverBugCount != null">#{unresolverBugCount:INTEGER} ,</if>  
      <if test="qualityScore != null">#{qualityScore:DOUBLE} ,</if>  
      <if test="completeScore != null">#{completeScore:DOUBLE} ,</if> )
    </trim> 
  </insert>
  <select id="countByCriteria" parameterType="com.i2shopping.i2work.operation.core.sign.model.SignPointsCriteria" resultType="java.lang.Integer"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Aug 05 16:39:15 CST 2015.
    --> select count(*) from tbl_sign_points 
    <include refid="tbl_sign_points.Criteria_Where_Clause"/> 
  </select>
  <select id="selectHisTaskRef" parameterType="com.i2shopping.i2work.operation.core.sign.model.SignPoints" resultMap="BaseResultMap">select * from tbl_sign_points where EMPLOYEE_ID =#{employeeId:VARCHAR}
    <if test="signPointDate != null and signPointDate != ''">date_format(SIGN_POINT_DATE,'%Y-%m-%d') = date_format(#{signPointDate:TIMESTAMP},'%Y-%m-%d')</if> 
  </select>
  <update id="updateByCriteriaSelective"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Aug 05 16:39:15 CST 2015.
    --> update tbl_sign_points 
    <trim prefix="set"> 
      <if test="record.signId != null">SIGN_ID = #{record.signId:VARCHAR} ,</if>  
      <if test="record.employeeId != null">EMPLOYEE_ID = #{record.employeeId:VARCHAR} ,</if>  
      <if test="record.signMultiplePoint != null">SIGN_MULTIPLE_POINT = #{record.signMultiplePoint:DOUBLE} ,</if>  
      <if test="record.signPointDate != null">SIGN_POINT_DATE = #{record.signPointDate:DATE} ,</if>  
      <if test="record.busynessGrade != null">BUSYNESS_GRADE = #{record.busynessGrade:DOUBLE} ,</if>  
      <if test="record.contractNo != null">CONTRACT_NO = #{record.contractNo:VARCHAR} ,</if>  
      <if test="record.rankType != null">RANK_TYPE = #{record.rankType:VARCHAR} ,</if>  
      <if test="record.unresolverBugCount != null">UNRESOLVER_BUG_COUNT = #{record.unresolverBugCount:INTEGER} ,</if>  
      <if test="record.qualityScore != null">QUALITY_SCORE = #{record.qualityScore:DOUBLE} ,</if>  
      <if test="record.completeScore != null">COMPLETE_SCORE = #{record.completeScore:DOUBLE} ,</if> 
    </trim>  
    <if test="_parameter != null"> 
      <include refid="tbl_sign_points.Criteria_Where_Clause"/> 
    </if> 
  </update>
  <update id="updateByCriteria"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Aug 05 16:39:15 CST 2015.
    --> update tbl_sign_points set SIGN_ID = #{record.signId:VARCHAR}, EMPLOYEE_ID = #{record.employeeId:VARCHAR}, SIGN_MULTIPLE_POINT = #{record.signMultiplePoint:DOUBLE}, SIGN_POINT_DATE = #{record.signPointDate:DATE}, BUSYNESS_GRADE = #{record.busynessGrade:DOUBLE}, CONTRACT_NO = #{record.contractNo:VARCHAR}, RANK_TYPE = #{record.rankType:VARCHAR}, UNRESOLVER_BUG_COUNT = #{record.unresolverBugCount:INTEGER}, QUALITY_SCORE = #{record.qualityScore:DOUBLE}, COMPLETE_SCORE = #{record.completeScore:DOUBLE}
    <if test="_parameter != null"> 
      <include refid="tbl_sign_points.Criteria_Where_Clause"/> 
    </if> 
  </update>
  <update id="updateByPrimaryKeySelective" parameterType="com.i2shopping.i2work.operation.core.sign.model.SignPoints"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Aug 05 16:39:15 CST 2015.
    --> update tbl_sign_points 
    <trim prefix="set"> 
      <if test="employeeId != null">EMPLOYEE_ID = #{employeeId:VARCHAR} ,</if>  
      <if test="signMultiplePoint != null">SIGN_MULTIPLE_POINT = #{signMultiplePoint:DOUBLE} ,</if>  
      <if test="signPointDate != null">SIGN_POINT_DATE = #{signPointDate:DATE} ,</if>  
      <if test="busynessGrade != null">BUSYNESS_GRADE = #{busynessGrade:DOUBLE} ,</if>  
      <if test="contractNo != null">CONTRACT_NO = #{contractNo:VARCHAR} ,</if>  
      <if test="rankType != null">RANK_TYPE = #{rankType:VARCHAR} ,</if>  
      <if test="unresolverBugCount != null">UNRESOLVER_BUG_COUNT = #{unresolverBugCount:INTEGER} ,</if>  
      <if test="qualityScore != null">QUALITY_SCORE = #{qualityScore:DOUBLE} ,</if>  
      <if test="completeScore != null">COMPLETE_SCORE = #{completeScore:DOUBLE} ,</if> 
    </trim> where SIGN_ID = #{signId:VARCHAR}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.i2shopping.i2work.operation.core.sign.model.SignPoints"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Aug 05 16:39:15 CST 2015.
    --> update tbl_sign_points set EMPLOYEE_ID = #{employeeId:VARCHAR}, SIGN_MULTIPLE_POINT = #{signMultiplePoint:DOUBLE}, SIGN_POINT_DATE = #{signPointDate:DATE}, BUSYNESS_GRADE = #{busynessGrade:DOUBLE}, CONTRACT_NO = #{contractNo:VARCHAR}, RANK_TYPE = #{rankType:VARCHAR}, UNRESOLVER_BUG_COUNT = #{unresolverBugCount:INTEGER}, QUALITY_SCORE = #{qualityScore:DOUBLE}, COMPLETE_SCORE = #{completeScore:DOUBLE} where SIGN_ID = #{signId:VARCHAR}
  </update>
  <select id="getConnectionService" parameterType="com.i2shopping.i2work.operation.core.sign.model.SignPointsCriteria">SELECT 1 FROM DUAL;</select>
</mapper>
