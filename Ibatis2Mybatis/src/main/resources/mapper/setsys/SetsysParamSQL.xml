<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="tbl_setsys_param">
  <resultMap id="BaseResultMap" type="com.i2shopping.i2work.operation.core.setsys.model.SetsysParam">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sun Nov 29 15:31:41 CST 2015.
    -->
    <result column="CREATE_TIME" property="createTime" jdbcType="TIMESTAMP"/>
    <result column="EMPLOYEE_ID" property="employeeId" jdbcType="VARCHAR"/>
    <result column="ISCKCLOSED" property="isckclosed" jdbcType="CHAR"/>
    <result column="ISHARED" property="ishared" jdbcType="CHAR"/>
    <result column="ISPERFORMANCE" property="isPerfromance" jdbcType="CHAR"/>
    <result column="VERSION" property="version" jdbcType="VARCHAR"/>
  </resultMap>
  <resultMap id="BaseResultMapAppVersion" type="com.i2shopping.i2work.operation.core.setsys.model.SetsysParam">
    <result column="VERSION" property="version" jdbcType="VARCHAR"/>
  </resultMap>
  <resultMap id="BaseResultMap1" type="com.i2shopping.i2work.operation.core.setsys.model.SetsysParam">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sun Nov 29 15:31:41 CST 2015.
    -->
    <result column="userName" property="userName" jdbcType="VARCHAR"/>
    <result column="CREATE_TIME" property="createTime" jdbcType="TIMESTAMP"/>
    <result column="EMPLOYEE_ID" property="employeeId" jdbcType="VARCHAR"/>
    <result column="ISCKCLOSED" property="isckclosed" jdbcType="CHAR"/>
    <result column="ISHARED" property="ishared" jdbcType="CHAR"/>
    <result column="ISPERFORMANCE" property="isPerfromance" jdbcType="CHAR"/>
    <result column="VERSION" property="version" jdbcType="VARCHAR"/>
  </resultMap>
  <sql id="Criteria_Where_Clause"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sun Nov 29 15:31:41 CST 2015.
    -->  
    <iterate property="oredCriteria" conjunction="or" prepend="where" removeFirstPrepend="iterate"> 
      <if test="oredCriteria[].valid!= null and oredCriteria[].valid == 'true'.toString()">( 
        <iterate prepend="and" property="oredCriteria[].criteriaWithoutValue" conjunction="and">$oredCriteria[].criteriaWithoutValue[]$</iterate>  
        <iterate prepend="and" property="oredCriteria[].criteriaWithSingleValue" conjunction="and">$oredCriteria[].criteriaWithSingleValue[].condition$ #{oredCriteria[].criteriaWithSingleValue[].value}</iterate>  
        <iterate prepend="and" property="oredCriteria[].criteriaWithListValue" conjunction="and">$oredCriteria[].criteriaWithListValue[].condition$
          <iterate property="oredCriteria[].criteriaWithListValue[].values" open="(" close=")" conjunction=",">#{oredCriteria[].criteriaWithListValue[].values[]}</iterate> 
        </iterate>  
        <iterate prepend="and" property="oredCriteria[].criteriaWithBetweenValue" conjunction="and">$oredCriteria[].criteriaWithBetweenValue[].condition$ #{oredCriteria[].criteriaWithBetweenValue[].values[0]} and #{oredCriteria[].criteriaWithBetweenValue[].values[1]}</iterate> )
      </if> 
    </iterate> 
  </sql>
  <select id="selectByCriteria" resultMap="BaseResultMap" parameterType="com.i2shopping.i2work.operation.core.setsys.model.SetsysParamCriteria"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sun Nov 29 15:31:41 CST 2015.
    --> select CREATE_TIME, EMPLOYEE_ID, ISCKCLOSED, ISHARED,ISPERFORMANCE from tbl_setsys_param
    <if test="_parameter != null"> 
      <include refid="tbl_setsys_param.Criteria_Where_Clause"/>  
      <if test="orderByClause != null">order by ${orderByClause}</if> 
    </if> 
  </select>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="com.i2shopping.i2work.operation.core.setsys.model.SetsysParamKey"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sun Nov 29 15:31:41 CST 2015.
    --> select m.* from tbl_setsys_param as m where 
    <!-- CREATE_TIME = #{createTime:TIMESTAMP}  and  --> EMPLOYEE_ID = #{employeeId:VARCHAR}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="com.i2shopping.i2work.operation.core.setsys.model.SetsysParamKey"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sun Nov 29 15:31:41 CST 2015.
    --> delete from tbl_setsys_param where CREATE_TIME = #{createTime:TIMESTAMP} and EMPLOYEE_ID = #{employeeId:VARCHAR}
  </delete>
  <delete id="deleteByCriteria" parameterType="com.i2shopping.i2work.operation.core.setsys.model.SetsysParamCriteria"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sun Nov 29 15:31:41 CST 2015.
    --> delete from tbl_setsys_param 
    <include refid="tbl_setsys_param.Criteria_Where_Clause"/> 
  </delete>
  <insert id="insert" parameterType="com.i2shopping.i2work.operation.core.setsys.model.SetsysParam"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sun Nov 29 15:31:41 CST 2015.
    --> insert into tbl_setsys_param (CREATE_TIME, EMPLOYEE_ID, ISCKCLOSED, ISHARED) values (#{createTime:TIMESTAMP}, #{employeeId:VARCHAR}, #{isckclosed:CHAR}, #{ishared:CHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.i2shopping.i2work.operation.core.setsys.model.SetsysParam"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sun Nov 29 15:31:41 CST 2015.
    --> insert into tbl_setsys_param 
    <trim prefix="("> 
      <if test="createTime != null">CREATE_TIME ,</if>  
      <if test="employeeId != null">EMPLOYEE_ID ,</if>  
      <if test="isckclosed != null">ISCKCLOSED ,</if>  
      <if test="ishared != null">ISHARED ,</if>  
      <if test="isPerfromance != null">ISPERFORMANCE ,</if>  
      <if test="version != null">VERSION ,</if> )
    </trim> values 
    <trim prefix="("> 
      <if test="createTime != null">#{createTime:TIMESTAMP} ,</if>  
      <if test="employeeId != null">#{employeeId:VARCHAR} ,</if>  
      <if test="isckclosed != null">#{isckclosed:CHAR} ,</if>  
      <if test="ishared != null">#{ishared:CHAR} ,</if>  
      <if test="isPerfromance != null">#{isPerfromance:CHAR} ,</if>  
      <if test="version != null">#{version:CHAR} ,</if> )
    </trim> 
  </insert>
  <select id="countByCriteria" parameterType="com.i2shopping.i2work.operation.core.setsys.model.SetsysParamCriteria" resultType="java.lang.Integer"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sun Nov 29 15:31:41 CST 2015.
    --> select count(*) from tbl_setsys_param 
    <include refid="tbl_setsys_param.Criteria_Where_Clause"/> 
  </select>
  <update id="updateByCriteriaSelective"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sun Nov 29 15:31:41 CST 2015.
    --> update tbl_setsys_param 
    <trim prefix="set"> 
      <if test="record.createTime != null">CREATE_TIME = #{record.createTime:TIMESTAMP} ,</if>  
      <if test="record.employeeId != null">EMPLOYEE_ID = #{record.employeeId:VARCHAR} ,</if>  
      <if test="record.isckclosed != null">ISCKCLOSED = #{record.isckclosed:CHAR} ,</if>  
      <if test="record.ishared != null">ISHARED = #{record.ishared:CHAR} ,</if> 
    </trim>  
    <if test="_parameter != null"> 
      <include refid="tbl_setsys_param.Criteria_Where_Clause"/> 
    </if> 
  </update>
  <update id="updateByCriteria"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sun Nov 29 15:31:41 CST 2015.
    --> update tbl_setsys_param set CREATE_TIME = #{record.createTime:TIMESTAMP}, EMPLOYEE_ID = #{record.employeeId:VARCHAR}, ISCKCLOSED = #{record.isckclosed:CHAR}, ISHARED = #{record.ishared:CHAR}
    <if test="_parameter != null"> 
      <include refid="tbl_setsys_param.Criteria_Where_Clause"/> 
    </if> 
  </update>
  <update id="updateByPrimaryKeySelective" parameterType="com.i2shopping.i2work.operation.core.setsys.model.SetsysParam"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sun Nov 29 15:31:41 CST 2015.
    --> update tbl_setsys_param 
    <trim prefix="set"> 
      <if test="isckclosed != null">ISCKCLOSED = #{isckclosed:CHAR} ,</if>  
      <if test="ishared != null">ISHARED = #{ishared:CHAR} ,</if>  
      <if test="isPerfromance != null">ISPERFORMANCE = #{isPerfromance:CHAR} ,</if>  
      <if test="version != null">VERSION = #{version:VARCHAR} ,</if> 
    </trim> where EMPLOYEE_ID = #{employeeId:VARCHAR}
    <!--  CREATE_TIME = #{createTime:TIMESTAMP} and--> 
  </update>
  <update id="updateByPrimaryKey" parameterType="com.i2shopping.i2work.operation.core.setsys.model.SetsysParam"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sun Nov 29 15:31:41 CST 2015.
    --> update tbl_setsys_param set ISCKCLOSED = #{isckclosed:CHAR}, ISHARED = #{ishared:CHAR} where CREATE_TIME = #{createTime:TIMESTAMP} and EMPLOYEE_ID = #{employeeId:VARCHAR}
  </update>
  <!-- 查询所有的菜单总数量 -->
  <select id="selectSetSystemListCount" resultType="java.lang.Integer" parameterType="java.util.Map"> 
    <!-- select  count(*) from tbl_setsys_param  as m where   1 = 1 --> select count(*) from tbl_setsys_param m ,tbl_employee_info emi ,tbl_department_info dept where emi.EMPLOYEE_ID = m.EMPLOYEE_ID and emi.DEPARTMENT_ID = dept.DEPARTMENT_ID and emi.IS_ON_DUTY='01'
    <if test="employeeName != null and employeeName != ''">and emi.EMPLOYEE_NAME = #{employeeName:VARCHAR}</if>  
    <if test="departmentId != null and departmentId != ''">and emi.DEPARTMENT_ID = #{departmentId:VARCHAR}</if>  
    <if test="companyId != null and companyId != ''">and emi.BEYOND_COMPANY = #{companyId:VARCHAR}</if>  
    <if test="area != null and area != ''">and dept.AREA = #{area:VARCHAR}</if>  
    <if test="appVersion != null and appVersion != ''">and m.VERSION = #{appVersion:VARCHAR}</if> ORDER BY m.VERSION desc 
    <!-- order by m.MENU_ITEM_ID DESC--> 
  </select>
  <select id="selectSetSystemList" resultMap="BaseResultMap1" parameterType="java.util.Map"> 
    <!-- select m.*,date_format(m.CREATE_TIME,'%Y-%m-%d %H:%i')as createTime from tbl_setsys_param m where  1 = 1 --> select m.*,date_format(m.CREATE_TIME,'%Y-%m-%d %H:%i')as createTime,emi.EMPLOYEE_NAME as userName from tbl_setsys_param m ,tbl_employee_info emi ,tbl_department_info dept where emi.EMPLOYEE_ID = m.EMPLOYEE_ID and emi.DEPARTMENT_ID = dept.DEPARTMENT_ID and emi.IS_ON_DUTY='01'
    <if test="employeeName != null and employeeName != ''">and emi.EMPLOYEE_NAME = #{employeeName:VARCHAR}</if>  
    <if test="departmentId != null and departmentId != ''">and emi.DEPARTMENT_ID = #{departmentId:VARCHAR}</if>  
    <if test="companyId != null and companyId != ''">and emi.BEYOND_COMPANY = #{companyId:VARCHAR}</if>  
    <if test="area != null and area != ''">and dept.AREA = #{area:VARCHAR}</if>  
    <if test="appVersion != null and appVersion != ''">and m.VERSION = #{appVersion:VARCHAR}</if> ORDER BY m.VERSION desc
  </select>
  <select id="findSystemListGroupByVersion" resultMap="BaseResultMapAppVersion" parameterType="com.i2shopping.i2work.operation.core.setsys.model.SetsysParam">select m.VERSION from tbl_setsys_param as m where 1 = 1 GROUP BY m.VERSION desc</select>
  <delete id="delSetsystemById" parameterType="com.i2shopping.i2work.operation.core.setsys.model.SetsysParam"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sun Nov 29 15:31:41 CST 2015.
    --> delete from tbl_setsys_param where EMPLOYEE_ID = #{employeeId:VARCHAR}
  </delete>
</mapper>
