<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="tbl_employee_leave_set">
  <resultMap id="BaseResultMap" type="com.i2shopping.i2work.operation.core.employee.model.EmployeeLeaveSet">
    <!--
          WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
          This element was generated on Wed Jul 15 10:13:18 CST 2015.
        -->
    <result column="employee_leave_id" property="employeeLeaveId" jdbcType="VARCHAR"/>
    <result column="employee_leave_eid" property="employeeLeaveEid" jdbcType="VARCHAR"/>
    <result column="employee_leave_type" property="employeeLeaveType" jdbcType="VARCHAR"/>
    <result column="employee_leave_name" property="employeeLeaveName" jdbcType="VARCHAR"/>
    <result column="employee_leave_inday" property="employeeLeaveInDay" jdbcType="VARCHAR"/>
    <result column="employee_annual_Leave" property="employeeAnnualLeave" jdbcType="VARCHAR"/>
    <result column="employee_leave_spare1" property="employeeLeaveSpare1" jdbcType="VARCHAR"/>
    <result column="employee_leave_spare2" property="employeeLeaveSpare2" jdbcType="VARCHAR"/>
    <result column="employee_leave_spare3" property="employeeLeaveSpare3" jdbcType="VARCHAR"/>
  </resultMap>
  <select id="queryEmployeeLeaveSetByEidAndType" resultMap="BaseResultMap" parameterType="com.i2shopping.i2work.operation.core.employee.model.EmployeeLeaveSet">select tes.employee_leave_id,tes.employee_leave_eid,tes.employee_leave_type,tes.employee_leave_name, REPLACE(tes.employee_leave_inday,CHAR(32),'') as employee_leave_inday, REPLACE(tes.employee_annual_leave,CHAR(32),'') as employee_annual_leave, tes.employee_leave_spare1, tes.employee_leave_spare2,tes.employee_leave_spare3 from tbl_employee_leave_set tes ,tbl_employee_info tei where tei.EMPLOYEE_ID = tes.employee_leave_eid and tei.IS_ON_DUTY = '01'
    <if test="employeeLeaveName != null and employeeLeaveName != ''">and tes.employee_leave_name = #{employeeLeaveName:VARCHAR}</if>  
    <if test="employeeLeaveEid != null and employeeLeaveEid != ''">and tes.employee_leave_eid = #{employeeLeaveEid:VARCHAR}</if>  
    <if test="employeeLeaveType != null and employeeLeaveType != ''">and tes.employee_leave_type = #{employeeLeaveType:VARCHAR}</if> 
  </select>
  <select id="queryEmployeeLeaveSetByEidAndTypeCount" resultType="java.lang.Integer" parameterType="com.i2shopping.i2work.operation.core.employee.model.EmployeeLeaveSet">select count(1) from tbl_employee_leave_set tes ,tbl_employee_info tei where tei.EMPLOYEE_ID = tes.employee_leave_eid and tei.IS_ON_DUTY = '01'
    <if test="employeeLeaveName != null and employeeLeaveName != ''">and tes.employee_leave_name = #{employeeLeaveName:VARCHAR}</if>  
    <if test="employeeLeaveEid != null and employeeLeaveEid != ''">and tes.employee_leave_eid = #{employeeLeaveEid:VARCHAR}</if>  
    <if test="employeeLeaveType != null and employeeLeaveType != ''">and tes.employee_leave_type = #{employeeLeaveType:VARCHAR}</if> 
  </select>
  <insert id="insertEmployeeLeaveSetSelective" parameterType="com.i2shopping.i2work.operation.core.employee.model.EmployeeLeaveSet"> 
    <!--
          WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
          This element was generated on Wed Jul 15 10:13:18 CST 2015.
        --> insert into tbl_employee_leave_set 
    <trim prefix="("> 
      <if test="employeeLeaveId != null">employee_leave_id ,</if>  
      <if test="employeeLeaveEid != null">employee_leave_eid ,</if>  
      <if test="employeeLeaveType != null">employee_leave_type ,</if>  
      <if test="employeeLeaveName != null">employee_leave_name ,</if>  
      <if test="employeeLeaveInDay != null">employee_leave_inday ,</if>  
      <if test="employeeAnnualLeave != null">employee_annual_Leave ,</if>  
      <if test="employeeLeaveSpare1 != null">employee_leave_spare1 ,</if>  
      <if test="employeeLeaveSpare2 != null">employee_leave_spare2 ,</if>  
      <if test="employeeLeaveSpare3 != null">employee_leave_spare3 ,</if> )
    </trim> values 
    <trim prefix="("> 
      <if test="employeeLeaveId != null">#{employeeLeaveId:VARCHAR} ,</if>  
      <if test="employeeLeaveEid != null">#{employeeLeaveEid:VARCHAR} ,</if>  
      <if test="employeeLeaveType != null">#{employeeLeaveType:VARCHAR} ,</if>  
      <if test="employeeLeaveName != null">#{employeeLeaveName:VARCHAR} ,</if>  
      <if test="employeeLeaveInDay != null">#{employeeLeaveInDay:VARCHAR} ,</if>  
      <if test="employeeAnnualLeave != null">#{employeeAnnualLeave:VARCHAR} ,</if>  
      <if test="employeeLeaveSpare1 != null">#{employeeLeaveSpare1:VARCHAR} ,</if>  
      <if test="employeeLeaveSpare2 != null">#{employeeLeaveSpare2:VARCHAR} ,</if>  
      <if test="employeeLeaveSpare3 != null">#{employeeLeaveSpare3:VARCHAR} ,</if> )
    </trim> 
  </insert>
  <update id="updateByEmployeeLeaveSetSelective" parameterType="com.i2shopping.i2work.operation.core.employee.model.EmployeeLeaveSet"> 
    <!--
          WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
          This element was generated on Wed Jul 15 10:13:18 CST 2015.
        --> update tbl_employee_leave_set 
    <trim prefix="set"> 
      <if test="employeeLeaveId != null">employee_leave_id = #{employeeLeaveId:VARCHAR} ,</if>  
      <if test="employeeLeaveEid != null">employee_leave_eid = #{employeeLeaveEid:VARCHAR} ,</if>  
      <if test="employeeLeaveType != null">employee_leave_type = #{employeeLeaveType:VARCHAR} ,</if>  
      <if test="employeeLeaveName != null">employee_leave_name = #{employeeLeaveName:VARCHAR} ,</if>  
      <if test="employeeLeaveInDay != null">employee_leave_inday = #{employeeLeaveInDay:VARCHAR} ,</if>  
      <if test="employeeAnnualLeave != null">employee_annual_Leave = #{employeeAnnualLeave:VARCHAR} ,</if>  
      <if test="employeeLeaveSpare1 != null">employee_leave_spare1 = #{employeeLeaveSpare1:VARCHAR} ,</if>  
      <if test="employeeLeaveSpare2 != null">employee_leave_spare2 = #{employeeLeaveSpare2:VARCHAR} ,</if>  
      <if test="employeeLeaveSpare3 != null">employee_leave_spare3 = #{employeeLeaveSpare3:VARCHAR} ,</if> 
    </trim> where employee_leave_eid = #{employeeLeaveEid:VARCHAR}
  </update>
  <update id="updateEmployeeLeaveSetAnnualLeave" parameterType="com.i2shopping.i2work.operation.core.employee.model.EmployeeLeaveSet">update tbl_employee_leave_set SET employee_annual_leave = #{employeeAnnualLeave:VARCHAR} WHERE employee_leave_name = #{employeeLeaveName:VARCHAR}</update>
</mapper>
