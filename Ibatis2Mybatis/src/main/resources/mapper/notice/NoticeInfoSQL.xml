<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="tbl_notice_info">
  <resultMap id="BaseResultMap" type="com.i2shopping.i2work.operation.core.noticeInfo.model.NoticeInfo">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Jul 07 19:50:10 CST 2015.
    -->
    <result column="notice_info_id" property="noticeInfoId" jdbcType="VARCHAR"/>
    <result column="publish_time" property="publishTime" jdbcType="TIMESTAMP"/>
    <result column="publish_title" property="publishTitle" jdbcType="VARCHAR"/>
    <result column="employee_name" property="employeeName" jdbcType="VARCHAR"/>
    <result column="employee_id" property="employeeId" jdbcType="VARCHAR"/>
    <result column="publish_type" property="publishType" jdbcType="CHAR"/>
    <result column="companyId" property="companyid" jdbcType="VARCHAR"/>
    <result column="sharImageAddress" property="sharImageAddress" jdbcType="VARCHAR"/>
    <result column="updateImageAddress" property="updateImageAddress" jdbcType="VARCHAR"/>
    <!--<result column="downloadAddress" property="downloadAddress" jdbcType="VARCHAR" />
	  <result column="but_type" property="butType" jdbcType="VARCHAR" />-->
    <result column="weixin_title" property="weixinTitle" jdbcType="VARCHAR"/>
  </resultMap>
  <resultMap id="ResultMapWithBLOBs" extends="tbl_notice_info.BaseResultMap" type="com.i2shopping.i2work.operation.core.noticeInfo.model.NoticeInfo">
    <result column="publish_content" property="publishContent" jdbcType="LONGVARBINARY"/>
  </resultMap>
  <resultMap id="ResultMapWithBLOBsEx" extends="tbl_notice_info.BaseResultMap" type="com.i2shopping.i2work.operation.core.noticeInfo.model.NoticeInfo">
    <result column="publish_content" property="publishContent" jdbcType="LONGVARBINARY"/>
    <result column="IS_READ" property="isRead" jdbcType="CHAR"/>
  </resultMap>
  <sql id="Criteria_Where_Clause"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Sat Jul 04 11:22:43 CST 2015.
    -->  
    <iterate property="oredCriteria" conjunction="or" prepend="where" removeFirstPrepend="iterate"> 
      <if test="oredCriteria[].valid!= null and oredCriteria[].valid == 'true'.toString()">( 
        <iterate prepend="and" property="oredCriteria[].criteriaWithoutValue" conjunction="and">$oredCriteria[].criteriaWithoutValue[]$</iterate>  
        <iterate prepend="and" property="oredCriteria[].criteriaWithSingleValue" conjunction="and">$oredCriteria[].criteriaWithSingleValue[].condition$ #{oredCriteria[].criteriaWithSingleValue[].value}</iterate>  
        <iterate prepend="and" property="oredCriteria[].criteriaWithListValue" conjunction="and">$oredCriteria[].criteriaWithListValue[].condition$
          <iterate property="oredCriteria[].criteriaWithListValue[].values" open="(" close=")" conjunction=",">#{oredCriteria[].criteriaWithListValue[].values[]}</iterate> 
        </iterate>  
        <iterate prepend="and" property="oredCriteria[].criteriaWithBetweenValue" conjunction="and">$oredCriteria[].criteriaWithBetweenValue[].condition$ #{oredCriteria[].criteriaWithBetweenValue[].values[0]} and #{oredCriteria[].criteriaWithBetweenValue[].values[1]}</iterate> )
      </if> 
    </iterate> 
  </sql>
  <sql id="tbl_notice_info.notice_Where_Clause"> 
    <if test="noticeInfoId != null and noticeInfoId != ''">and tbl_notice_info.notice_info_id = #{noticeInfoId:VARCHAR}</if>  
    <if test="publishTime != null and publishTime != ''">and tbl_notice_info.publish_time = #{publishTime:TIMESTAMP}</if>  
    <if test="publishTitle != null and publishTitle != ''">and tbl_notice_info.publish_title = #{publishTitle:VARCHAR}</if>  
    <if test="publishContent != null and publishContent != ''">and tbl_notice_info.publish_content = #{publishContent:LONGVARBINARY}</if>  
    <if test="employeeName != null and employeeName != ''">and tbl_notice_info.employee_name like concat('%', #{employeeName:VARCHAR}, '%')</if>  
    <if test="employeeId != null and employeeId != ''">and tbl_notice_info.employee_id = #{employeeId:VARCHAR}</if>  
    <if test="publishType != null and publishType != ''">and tbl_notice_info.publish_type = #{publishType:CHAR}</if>  
    <if test="companyid != null and companyid != ''">and tbl_notice_info.companyid = #{companyid:VARCHAR}</if>  
    <if test="weixinTitle != null and weixinTitle != ''">and tbl_notice_info.weixin_title = #{weixinTitle:VARCHAR}</if> order by publish_time desc
  </sql>
  <!-- 查询公告信息 -->
  <select id="selectNoticeInfo" resultMap="ResultMapWithBLOBs" parameterType="com.i2shopping.i2work.operation.core.noticeInfo.model.NoticeInfo">select * from tbl_notice_info 
    <trim prefix="where"> 
      <include refid="tbl_notice_info.notice_Where_Clause"/> 
    </trim> 
  </select>
  <!-- 查询根据时间为条件公告信息 -->
  <select id="selectNoticeInfoByDay" resultMap="ResultMapWithBLOBs" parameterType="com.i2shopping.i2work.operation.core.noticeInfo.model.NoticeInfo">select * from tbl_notice_info 
    <trim prefix="where"> 
      <if test="noticeInfoId != null and noticeInfoId != ''">and notice_info_id = #{noticeInfoId:VARCHAR}</if>  
      <if test="publishType != null and publishType != ''">and publish_type = #{publishType:CHAR}</if>  
      <if test="publishTime != null and publishTime != ''">and date_format(publish_time,'%Y-%m-%d')= date_format(#{publishTime:TIMESTAMP},'%Y-%m-%d')</if> 
    </trim> 
  </select>
  <select id="selectNoticeInfoByShareInfolist" resultMap="ResultMapWithBLOBs" parameterType="com.i2shopping.i2work.operation.core.noticeInfo.model.NoticeInfo">select * from tbl_notice_info 
    <trim prefix="where"> 
      <if test="noticeInfoId != null and noticeInfoId != ''">and notice_info_id = #{noticeInfoId:VARCHAR}</if>  
      <if test="publishType != null and publishType != ''">and publish_type = #{publishType:CHAR}</if>  
      <if test="publishTime != null and publishTime != ''">and date_format(publish_time,'%Y-%m-%d')= date_format(#{publishTime:TIMESTAMP},'%Y-%m-%d')</if> 
    </trim> 
  </select>
  <!-- 查询和自己有关的公告 -->
  <select id="selectNoticeInfoByPerson" resultMap="ResultMapWithBLOBsEx" parameterType="com.i2shopping.i2work.operation.core.noticeInfo.model.NoticeInfoPerson">select info.*,person.IS_READ from tbl_notice_info info, tbl_notice_info_person person where info.notice_info_id = person.notice_info_id and person.employee_id = #{employeeId:VARCHAR}</select>
  <select id="countNoticeInfoByPerson" parameterType="com.i2shopping.i2work.operation.core.noticeInfo.model.NoticeInfoPerson" resultType="java.lang.Integer">select count(*) from tbl_notice_info info, tbl_notice_info_person person where info.notice_info_id = person.notice_info_id and person.employee_id = #{employeeId:VARCHAR}</select>
  <select id="selectByCriteriaWithBLOBs" resultMap="ResultMapWithBLOBs" parameterType="com.i2shopping.i2work.operation.core.noticeInfo.model.NoticeInfoCriteria"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Jul 07 19:50:10 CST 2015.
    --> select notice_info_id, publish_time, publish_title, employee_name, employee_id, publish_type, publish_content, weixin_title from tbl_notice_info
    <if test="_parameter != null"> 
      <include refid="tbl_notice_info.Criteria_Where_Clause"/>  
      <if test="orderByClause != null">order by ${orderByClause}</if> 
    </if> 
  </select>
  <select id="selectByCriteria" resultMap="BaseResultMap" parameterType="com.i2shopping.i2work.operation.core.noticeInfo.model.NoticeInfoCriteria"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Jul 07 19:50:10 CST 2015.
    --> select notice_info_id, publish_time, publish_title, employee_name, employee_id, publish_type, weixin_title from tbl_notice_info
    <if test="_parameter != null"> 
      <include refid="tbl_notice_info.Criteria_Where_Clause"/>  
      <if test="orderByClause != null">order by ${orderByClause}</if> 
    </if> 
  </select>
  <select id="selectByPrimaryKey" resultMap="ResultMapWithBLOBs" parameterType="com.i2shopping.i2work.operation.core.noticeInfo.model.NoticeInfo"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Jul 07 19:50:10 CST 2015.
    --> select * from tbl_notice_info where notice_info_id = #{noticeInfoId:VARCHAR}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="com.i2shopping.i2work.operation.core.noticeInfo.model.NoticeInfo"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Jul 07 19:50:10 CST 2015.
    --> delete from tbl_notice_info where notice_info_id = #{noticeInfoId:VARCHAR}
  </delete>
  <delete id="deleteByCriteria" parameterType="com.i2shopping.i2work.operation.core.noticeInfo.model.NoticeInfoCriteria"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Jul 07 19:50:10 CST 2015.
    --> delete from tbl_notice_info 
    <include refid="tbl_notice_info.Criteria_Where_Clause"/> 
  </delete>
  <insert id="insert" parameterType="com.i2shopping.i2work.operation.core.noticeInfo.model.NoticeInfo"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Thu Sep 10 15:31:13 CST 2015.
    --> insert into tbl_notice_info (notice_info_id, publish_time, publish_title, employee_name, employee_id, companyId, publish_type, publish_content, weixin_title) values (#{noticeInfoId:VARCHAR}, #{publishTime:TIMESTAMP}, #{publishTitle:VARCHAR}, #{employeeName:VARCHAR}, #{employeeId:VARCHAR}, #{companyid:VARCHAR}, #{publishType:CHAR}, #{publishContent:LONGVARBINARY}, #{weixinTitle:VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.i2shopping.i2work.operation.core.noticeInfo.model.NoticeInfo"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Thu Sep 10 15:31:13 CST 2015.
    --> insert into tbl_notice_info 
    <trim prefix="("> 
      <if test="noticeInfoId != null">notice_info_id ,</if>  
      <if test="publishTime != null">publish_time ,</if>  
      <if test="publishTitle != null">publish_title ,</if>  
      <if test="employeeName != null">employee_name ,</if>  
      <if test="employeeId != null">employee_id ,</if>  
      <if test="companyid != null">companyId ,</if>  
      <if test="publishType != null">publish_type ,</if>  
      <if test="publishContent != null">publish_content ,</if>  
      <if test="sharImageAddress != null">sharImageAddress ,</if>  
      <if test="updateImageAddress != null">updateImageAddress ,</if>  
      <if test="weixinTitle != null">weixin_title ,</if> )
    </trim> values 
    <trim prefix="("> 
      <if test="noticeInfoId != null">#{noticeInfoId:VARCHAR} ,</if>  
      <if test="publishTime != null">#{publishTime:TIMESTAMP} ,</if>  
      <if test="publishTitle != null">#{publishTitle:VARCHAR} ,</if>  
      <if test="employeeName != null">#{employeeName:VARCHAR} ,</if>  
      <if test="employeeId != null">#{employeeId:VARCHAR} ,</if>  
      <if test="companyid != null">#{companyid:VARCHAR} ,</if>  
      <if test="publishType != null">#{publishType:CHAR} ,</if>  
      <if test="publishContent != null">#{publishContent:LONGVARBINARY} ,</if>  
      <if test="sharImageAddress != null">#{sharImageAddress:VARCHAR} ,</if>  
      <if test="updateImageAddress != null">#{updateImageAddress:VARCHAR} ,</if>  
      <if test="weixinTitle != null">#{weixinTitle:VARCHAR} ,</if> )
    </trim> 
  </insert>
  <select id="countByCriteria" parameterType="com.i2shopping.i2work.operation.core.noticeInfo.model.NoticeInfoCriteria" resultType="java.lang.Integer"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Jul 07 19:50:10 CST 2015.
    --> select count(*) from tbl_notice_info 
    <include refid="tbl_notice_info.Criteria_Where_Clause"/> 
  </select>
  <update id="updateByCriteriaSelective"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Jul 07 19:50:10 CST 2015.
    --> update tbl_notice_info 
    <trim prefix="set"> 
      <if test="record.noticeInfoId != null">notice_info_id = #{record.noticeInfoId:VARCHAR} ,</if>  
      <if test="record.publishTime != null">publish_time = #{record.publishTime:TIMESTAMP} ,</if>  
      <if test="record.publishTitle != null">publish_title = #{record.publishTitle:VARCHAR} ,</if>  
      <if test="record.employeeName != null">employee_name = #{record.employeeName:VARCHAR} ,</if>  
      <if test="record.employeeId != null">employee_id = #{record.employeeId:VARCHAR} ,</if>  
      <if test="record.publishType != null">publish_type = #{record.publishType:CHAR} ,</if>  
      <if test="record.publishContent != null">publish_content = #{record.publishContent:LONGVARBINARY} ,</if>  
      <if test="record.weixinTitle != null">weixin_title = #{record.weixinTitle:VARCHAR} ,</if> 
    </trim>  
    <if test="_parameter != null"> 
      <include refid="tbl_notice_info.Criteria_Where_Clause"/> 
    </if> 
  </update>
  <update id="updateByCriteriaWithBLOBs"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Jul 07 19:50:10 CST 2015.
    --> update tbl_notice_info set notice_info_id = #{record.noticeInfoId:VARCHAR}, publish_time = #{record.publishTime:TIMESTAMP}, publish_title = #{record.publishTitle:VARCHAR}, employee_name = #{record.employeeName:VARCHAR}, employee_id = #{record.employeeId:VARCHAR}, publish_type = #{record.publishType:CHAR}, publish_content = #{record.publishContent:LONGVARBINARY}, weixin_title = #{record.weixinTitle:VARCHAR}
    <if test="_parameter != null"> 
      <include refid="tbl_notice_info.Criteria_Where_Clause"/> 
    </if> 
  </update>
  <update id="updateByCriteria"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Jul 07 19:50:10 CST 2015.
    --> update tbl_notice_info set notice_info_id = #{record.noticeInfoId:VARCHAR}, publish_time = #{record.publishTime:TIMESTAMP}, publish_title = #{record.publishTitle:VARCHAR}, employee_name = #{record.employeeName:VARCHAR}, employee_id = #{record.employeeId:VARCHAR}, publish_type = #{record.publishType:CHAR}, weixin_title = #{record.weixinTitle:VARCHAR}
    <if test="_parameter != null"> 
      <include refid="tbl_notice_info.Criteria_Where_Clause"/> 
    </if> 
  </update>
  <update id="updateByPrimaryKeySelective" parameterType="com.i2shopping.i2work.operation.core.noticeInfo.model.NoticeInfo"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Thu Sep 10 15:31:13 CST 2015.
    --> update tbl_notice_info 
    <trim prefix="set"> 
      <if test="publishTime != null">publish_time = #{publishTime:TIMESTAMP} ,</if>  
      <if test="publishTitle != null">publish_title = #{publishTitle:VARCHAR} ,</if>  
      <if test="employeeName != null">employee_name = #{employeeName:VARCHAR} ,</if>  
      <if test="employeeId != null">employee_id = #{employeeId:VARCHAR} ,</if>  
      <if test="companyid != null">companyId = #{companyid:VARCHAR} ,</if>  
      <if test="publishType != null">publish_type = #{publishType:CHAR} ,</if>  
      <if test="publishContent != null">publish_content = #{publishContent:LONGVARBINARY} ,</if>  
      <if test="publishContent != null">publish_content = #{publishContent:LONGVARBINARY} ,</if>  
      <if test="publishContent != null">publish_content = #{publishContent:LONGVARBINARY} ,</if>  
      <if test="sharImageAddress != null">sharImageAddress = #{sharImageAddress:LONGVARBINARY} ,</if>  
      <if test="updateImageAddress != null">updateImageAddress = #{updateImageAddress:LONGVARBINARY} ,</if>  
      <if test="weixinTitle != null">weixin_title = #{weixinTitle:VARCHAR} ,</if> 
    </trim> where notice_info_id = #{noticeInfoId:VARCHAR}
  </update>
  <update id="updateByPrimaryKeyWithBLOBs" parameterType="com.i2shopping.i2work.operation.core.noticeInfo.model.NoticeInfo"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Thu Sep 10 15:31:13 CST 2015.
    --> update tbl_notice_info set publish_time = #{publishTime:TIMESTAMP}, publish_title = #{publishTitle:VARCHAR}, employee_name = #{employeeName:VARCHAR}, employee_id = #{employeeId:VARCHAR}, companyId = #{companyid:VARCHAR}, publish_type = #{publishType:CHAR}, publish_content = #{publishContent:LONGVARBINARY}, weixin_title = #{weixinTitle:VARCHAR} where notice_info_id = #{noticeInfoId:VARCHAR}
  </update>
  <!-- 查询所有的公告信息 -->
  <select id="selectNoticeInfoByPage" parameterType="com.i2shopping.i2work.operation.core.noticeInfo.model.NoticeInfo" resultMap="ResultMapWithBLOBs">select * from tbl_notice_info where 1=1 
    <include refid="tbl_notice_info.notice_Where_Clause"/> 
  </select>
  <!-- 查询所有的公告信息 -->
  <select id="selectAllNoticeInfo" parameterType="com.i2shopping.i2work.operation.core.noticeInfo.model.NoticeInfo" resultMap="ResultMapWithBLOBs">select * from tbl_notice_info order by publish_time desc</select>
  <select id="countNoticeInfo" parameterType="com.i2shopping.i2work.operation.core.noticeInfo.model.NoticeInfo" resultType="java.lang.Integer">select count(*) from tbl_notice_info where 1=1 
    <include refid="tbl_notice_info.notice_Where_Clause"/> 
  </select>
  <select id="selectByNoticeInfoId" resultMap="ResultMapWithBLOBs" parameterType="java.lang.String"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Tue Jul 07 19:50:10 CST 2015.
    --> select * from tbl_notice_info where notice_info_id = #{noticeInfoId:VARCHAR}
  </select>
</mapper>
