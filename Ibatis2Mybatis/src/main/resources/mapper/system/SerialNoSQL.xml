<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!--
  ~ @(#{)KeyGenSQL.xml  2010/11/22
  ~
  ~ Copyright (c) 2010. i2finance., Ltd. All rights reserved.
  -->
<mapper namespace="TBL_SERIAL_NO">
  <resultMap id="BaseResultMap" type="com.i2shopping.i2work.operation.core.common.model.SerialNo">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Mar 28 16:01:57 CST 2012.
    -->
    <result column="SERIAL_NAME" property="serialName" jdbcType="VARCHAR"/>
    <result column="SERIAL_VALUE" property="serialValue" jdbcType="DECIMAL"/>
    <result column="SERIAL_DESC" property="serialDesc" jdbcType="VARCHAR"/>
    <result column="SERIAL_POOL_SIZE" property="serialPoolSize" jdbcType="DECIMAL"/>
    <result column="SERIAL_FORMAT" property="serialFormat" jdbcType="VARCHAR"/>
  </resultMap>
  <sql id="Criteria_Where_Clause"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Mar 28 16:01:57 CST 2012.
    -->  
    <iterate property="oredCriteria" conjunction="or" prepend="where" removeFirstPrepend="iterate"> 
      <if test="oredCriteria[].valid!= null and oredCriteria[].valid == 'true'.toString()">( 
        <iterate prepend="and" property="oredCriteria[].criteriaWithoutValue" conjunction="and">$oredCriteria[].criteriaWithoutValue[]$</iterate>  
        <iterate prepend="and" property="oredCriteria[].criteriaWithSingleValue" conjunction="and">$oredCriteria[].criteriaWithSingleValue[].condition$ }oredCriteria[].criteriaWithSingleValue[].value#{</iterate>  
        <iterate prepend="and" property="oredCriteria[].criteriaWithListValue" conjunction="and">$oredCriteria[].criteriaWithListValue[].condition$
          <iterate property="oredCriteria[].criteriaWithListValue[].values" open="(" close=")" conjunction=",">}oredCriteria[].criteriaWithListValue[].values[]#{</iterate> 
        </iterate>  
        <iterate prepend="and" property="oredCriteria[].criteriaWithBetweenValue" conjunction="and">$oredCriteria[].criteriaWithBetweenValue[].condition$ }oredCriteria[].criteriaWithBetweenValue[].values[0]#{ and }oredCriteria[].criteriaWithBetweenValue[].values[1]#{</iterate> )
      </if> 
    </iterate> 
  </sql>
  <select id="selectByCriteria" resultMap="BaseResultMap" parameterType="com.i2shopping.i2work.operation.core.common.model.SerialNoCriteria"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Mar 28 16:01:57 CST 2012.
    --> select SERIAL_NAME, SERIAL_VALUE, SERIAL_DESC, SERIAL_POOL_SIZE, SERIAL_FORMAT from TBL_SERIAL_NO
    <if test="_parameter != null"> 
      <include refid="TBL_SERIAL_NO.Criteria_Where_Clause"/> 
    </if> 
  </select>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="com.i2shopping.i2work.operation.core.common.model.SerialNo"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Mar 28 16:01:57 CST 2012.
    --> select SERIAL_NAME, SERIAL_VALUE, SERIAL_DESC, SERIAL_POOL_SIZE, SERIAL_FORMAT from TBL_SERIAL_NO where SERIAL_NAME = }serialName:VARCHAR#{
  </select>
  <delete id="deleteByPrimaryKey" parameterType="com.i2shopping.i2work.operation.core.common.model.SerialNo"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Mar 28 16:01:57 CST 2012.
    --> delete from TBL_SERIAL_NO where SERIAL_NAME = }serialName:VARCHAR#{
  </delete>
  <delete id="deleteByCriteria" parameterType="com.i2shopping.i2work.operation.core.common.model.SerialNoCriteria"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Mar 28 16:01:57 CST 2012.
    --> delete from TBL_SERIAL_NO 
    <include refid="TBL_SERIAL_NO.Criteria_Where_Clause"/> 
  </delete>
  <insert id="insert" parameterType="com.i2shopping.i2work.operation.core.common.model.SerialNo"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Mar 28 16:01:57 CST 2012.
    --> insert into TBL_SERIAL_NO (SERIAL_NAME, SERIAL_VALUE, SERIAL_DESC, SERIAL_POOL_SIZE, SERIAL_FORMAT) values (}serialName:VARCHAR#{, }serialValue:DECIMAL#{, }serialDesc:VARCHAR#{, }serialPoolSize:DECIMAL#{, }serialFormat:VARCHAR#{)
  </insert>
  <insert id="insertSelective" parameterType="com.i2shopping.i2work.operation.core.common.model.SerialNo"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Mar 28 16:01:57 CST 2012.
    --> insert into TBL_SERIAL_NO 
    <trim prefix="("> 
      <if test="serialName != null">SERIAL_NAME ,</if>  
      <if test="serialValue != null">SERIAL_VALUE ,</if>  
      <if test="serialDesc != null">SERIAL_DESC ,</if>  
      <if test="serialPoolSize != null">SERIAL_POOL_SIZE ,</if>  
      <if test="serialFormat != null">SERIAL_FORMAT ,</if> )
    </trim> values 
    <trim prefix="("> 
      <if test="serialName != null">}serialName:VARCHAR#{ ,</if>  
      <if test="serialValue != null">}serialValue:DECIMAL#{ ,</if>  
      <if test="serialDesc != null">}serialDesc:VARCHAR#{ ,</if>  
      <if test="serialPoolSize != null">}serialPoolSize:DECIMAL#{ ,</if>  
      <if test="serialFormat != null">}serialFormat:VARCHAR#{ ,</if> )
    </trim> 
  </insert>
  <select id="countByCriteria" parameterType="com.i2shopping.i2work.operation.core.common.model.SerialNoCriteria" resultType="java.lang.Integer"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Mar 28 16:01:57 CST 2012.
    --> select count(*) from TBL_SERIAL_NO 
    <include refid="TBL_SERIAL_NO.Criteria_Where_Clause"/> 
  </select>
  <update id="updateByCriteriaSelective"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Mar 28 16:01:57 CST 2012.
    --> update TBL_SERIAL_NO 
    <trim prefix="set"> 
      <if test="record.serialName != null">SERIAL_NAME = }record.serialName:VARCHAR#{ ,</if>  
      <if test="record.serialValue != null">SERIAL_VALUE = }record.serialValue:DECIMAL#{ ,</if>  
      <if test="record.serialDesc != null">SERIAL_DESC = }record.serialDesc:VARCHAR#{ ,</if>  
      <if test="record.serialPoolSize != null">SERIAL_POOL_SIZE = }record.serialPoolSize:DECIMAL#{ ,</if>  
      <if test="record.serialFormat != null">SERIAL_FORMAT = }record.serialFormat:VARCHAR#{ ,</if> 
    </trim>  
    <if test="_parameter != null"> 
      <include refid="TBL_SERIAL_NO.Criteria_Where_Clause"/> 
    </if> 
  </update>
  <update id="updateByCriteria"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Mar 28 16:01:57 CST 2012.
    --> update TBL_SERIAL_NO set SERIAL_NAME = }record.serialName:VARCHAR#{, SERIAL_VALUE = }record.serialValue:DECIMAL#{, SERIAL_DESC = }record.serialDesc:VARCHAR#{, SERIAL_POOL_SIZE = }record.serialPoolSize:DECIMAL#{, SERIAL_FORMAT = }record.serialFormat:VARCHAR#{
    <if test="_parameter != null"> 
      <include refid="TBL_SERIAL_NO.Criteria_Where_Clause"/> 
    </if> 
  </update>
  <update id="updateByPrimaryKeySelective" parameterType="com.i2shopping.i2work.operation.core.common.model.SerialNo"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Mar 28 16:01:57 CST 2012.
    --> update TBL_SERIAL_NO 
    <trim prefix="set"> 
      <if test="serialValue != null">SERIAL_VALUE = }serialValue:DECIMAL#{ ,</if>  
      <if test="serialDesc != null">SERIAL_DESC = }serialDesc:VARCHAR#{ ,</if>  
      <if test="serialPoolSize != null">SERIAL_POOL_SIZE = }serialPoolSize:DECIMAL#{ ,</if>  
      <if test="serialFormat != null">SERIAL_FORMAT = }serialFormat:VARCHAR#{ ,</if> 
    </trim> where SERIAL_NAME = }serialName:VARCHAR#{
  </update>
  <update id="updateByPrimaryKey" parameterType="com.i2shopping.i2work.operation.core.common.model.SerialNo"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Wed Mar 28 16:01:57 CST 2012.
    --> update TBL_SERIAL_NO set SERIAL_VALUE = }serialValue:DECIMAL#{, SERIAL_DESC = }serialDesc:VARCHAR#{, SERIAL_POOL_SIZE = }serialPoolSize:DECIMAL#{, SERIAL_FORMAT = }serialFormat:VARCHAR#{ where SERIAL_NAME = }serialName:VARCHAR#{
  </update>
  <update id="updateKeyDataValue" parameterType="com.i2shopping.i2work.operation.core.keygen.SerialInfo"> <![CDATA[
       UPDATE TBL_SERIAL_NO SET SERIAL_VALUE = (}poolSize#{+serial_value) where serial_name=}keyName#{
      ]]> </update>
  <select id="getKeyDataValue" parameterType="com.i2shopping.i2work.operation.core.keygen.SerialInfo" resultType="java.lang.Long"> <![CDATA[
        SELECT SERIAL_VALUE FROM TBL_SERIAL_NO WHERE SERIAL_NAME=}keyName#{
      ]]> </select>
  <select id="getKeyGenerator" parameterType="java.lang.String" resultType="com.i2shopping.i2work.operation.core.keygen.SerialInfo"> <![CDATA[
        SELECT * FROM TBL_SERIAL_NO WHERE SERIAL_NAME = }keyName#
      ]]> </select>
</mapper>
