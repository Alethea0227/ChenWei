<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="tbl_project_team_info">
  <resultMap id="BaseResultMap" type="com.i2shopping.i2work.operation.core.project.model.ProjectTeamInfo">
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Mon Jun 22 12:54:04 CST 2015.
    -->
    <result column="CONTRACT_TEAM_NO" property="contractTeamNo" jdbcType="VARCHAR"/>
    <result column="CONTRACT_NO" property="contractNo" jdbcType="VARCHAR"/>
    <result column="CONTRACT_TEAM_NAME" property="contractTeamName" jdbcType="VARCHAR"/>
    <result column="PROJECT_DETAIL" property="projectDetail" jdbcType="VARCHAR"/>
    <result column="EMPLOYEE_ID" property="employeeId" jdbcType="VARCHAR"/>
  </resultMap>
  <resultMap id="ResultMapExt" extends="BaseResultMap" type="com.i2shopping.i2work.operation.core.project.model.ProjectTeamInfo">
    <result property="employeeName" column="EMPLOYEE_NAME" jdbcType="VARCHAR"/>
    <result column="MOBILE" property="mobile" jdbcType="CHAR"/>
  </resultMap>
  <sql id="Criteria_Where_Clause"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Mon Jun 22 12:54:04 CST 2015.
    -->  
    <iterate property="oredCriteria" conjunction="or" prepend="where" removeFirstPrepend="iterate"> 
      <if test="oredCriteria[].valid!= null and oredCriteria[].valid == 'true'.toString()">( 
        <iterate prepend="and" property="oredCriteria[].criteriaWithoutValue" conjunction="and">$oredCriteria[].criteriaWithoutValue[]$</iterate>  
        <iterate prepend="and" property="oredCriteria[].criteriaWithSingleValue" conjunction="and">$oredCriteria[].criteriaWithSingleValue[].condition$ #{oredCriteria[].criteriaWithSingleValue[].value}</iterate>  
        <iterate prepend="and" property="oredCriteria[].criteriaWithListValue" conjunction="and">$oredCriteria[].criteriaWithListValue[].condition$
          <iterate property="oredCriteria[].criteriaWithListValue[].values" open="(" close=")" conjunction=",">#{oredCriteria[].criteriaWithListValue[].values[]}</iterate> 
        </iterate>  
        <iterate prepend="and" property="oredCriteria[].criteriaWithBetweenValue" conjunction="and">$oredCriteria[].criteriaWithBetweenValue[].condition$ #{oredCriteria[].criteriaWithBetweenValue[].values[0]} and #{oredCriteria[].criteriaWithBetweenValue[].values[1]}</iterate> )
      </if> 
    </iterate> 
  </sql>
  <select id="selectByCriteria" resultMap="BaseResultMap" parameterType="com.i2shopping.i2work.operation.core.project.model.ProjectTeamInfoCriteria"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Mon Jun 22 12:54:04 CST 2015.
    --> select CONTRACT_TEAM_NO, CONTRACT_NO, CONTRACT_TEAM_NAME, PROJECT_DETAIL, EMPLOYEE_ID from tbl_project_team_info
    <if test="_parameter != null"> 
      <include refid="tbl_project_team_info.Criteria_Where_Clause"/>  
      <if test="orderByClause != null">order by ${orderByClause}</if> 
    </if> 
  </select>
  <select id="getProjectTeamInfoByEmployeeId" resultMap="BaseResultMap" parameterType="java.lang.String">select team.* from tbl_project_team_info team,tbl_project_team_emp_rel emp where team.contract_team_no = emp.contract_team_no and emp.employee_id=#{value:VARCHAR}</select>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="com.i2shopping.i2work.operation.core.project.model.ProjectTeamInfo"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Mon Jun 22 12:54:04 CST 2015.
    --> select CONTRACT_TEAM_NO, CONTRACT_NO, CONTRACT_TEAM_NAME, PROJECT_DETAIL, EMPLOYEE_ID from tbl_project_team_info where CONTRACT_TEAM_NO = #{contractTeamNo:VARCHAR}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="com.i2shopping.i2work.operation.core.project.model.ProjectTeamInfo"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Mon Jun 22 12:54:04 CST 2015.
    --> delete from tbl_project_team_info where CONTRACT_TEAM_NO = #{contractTeamNo:VARCHAR}
  </delete>
  <delete id="deleteByCriteria" parameterType="com.i2shopping.i2work.operation.core.project.model.ProjectTeamInfoCriteria"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Mon Jun 22 12:54:04 CST 2015.
    --> delete from tbl_project_team_info 
    <include refid="tbl_project_team_info.Criteria_Where_Clause"/> 
  </delete>
  <insert id="insert" parameterType="com.i2shopping.i2work.operation.core.project.model.ProjectTeamInfo"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Mon Jun 22 12:54:04 CST 2015.
    --> insert into tbl_project_team_info (CONTRACT_TEAM_NO, CONTRACT_NO, CONTRACT_TEAM_NAME, PROJECT_DETAIL, EMPLOYEE_ID) values (#{contractTeamNo:VARCHAR}, #{contractNo:VARCHAR}, #{contractTeamName:VARCHAR}, #{projectDetail:VARCHAR}, #{employeeId:VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.i2shopping.i2work.operation.core.project.model.ProjectTeamInfo"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Mon Jun 22 12:54:04 CST 2015.
    --> insert into tbl_project_team_info 
    <trim prefix="("> 
      <if test="contractTeamNo != null">CONTRACT_TEAM_NO ,</if>  
      <if test="contractNo != null">CONTRACT_NO ,</if>  
      <if test="contractTeamName != null">CONTRACT_TEAM_NAME ,</if>  
      <if test="projectDetail != null">PROJECT_DETAIL ,</if>  
      <if test="employeeId != null">EMPLOYEE_ID ,</if> )
    </trim> values 
    <trim prefix="("> 
      <if test="contractTeamNo != null">#{contractTeamNo:VARCHAR} ,</if>  
      <if test="contractNo != null">#{contractNo:VARCHAR} ,</if>  
      <if test="contractTeamName != null">#{contractTeamName:VARCHAR} ,</if>  
      <if test="projectDetail != null">#{projectDetail:VARCHAR} ,</if>  
      <if test="employeeId != null">#{employeeId:VARCHAR} ,</if> )
    </trim> 
  </insert>
  <select id="countByCriteria" parameterType="com.i2shopping.i2work.operation.core.project.model.ProjectTeamInfoCriteria" resultType="java.lang.Integer"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Mon Jun 22 12:54:04 CST 2015.
    --> select count(*) from tbl_project_team_info 
    <include refid="tbl_project_team_info.Criteria_Where_Clause"/> 
  </select>
  <update id="updateByCriteriaSelective"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Mon Jun 22 12:54:04 CST 2015.
    --> update tbl_project_team_info 
    <trim prefix="set"> 
      <if test="record.contractTeamNo != null">CONTRACT_TEAM_NO = #{record.contractTeamNo:VARCHAR} ,</if>  
      <if test="record.contractNo != null">CONTRACT_NO = #{record.contractNo:VARCHAR} ,</if>  
      <if test="record.contractTeamName != null">CONTRACT_TEAM_NAME = #{record.contractTeamName:VARCHAR} ,</if>  
      <if test="record.projectDetail != null">PROJECT_DETAIL = #{record.projectDetail:VARCHAR} ,</if>  
      <if test="record.employeeId != null">EMPLOYEE_ID = #{record.employeeId:VARCHAR} ,</if> 
    </trim>  
    <if test="_parameter != null"> 
      <include refid="tbl_project_team_info.Criteria_Where_Clause"/> 
    </if> 
  </update>
  <update id="updateByCriteria"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Mon Jun 22 12:54:04 CST 2015.
    --> update tbl_project_team_info set CONTRACT_TEAM_NO = #{record.contractTeamNo:VARCHAR}, CONTRACT_NO = #{record.contractNo:VARCHAR}, CONTRACT_TEAM_NAME = #{record.contractTeamName:VARCHAR}, PROJECT_DETAIL = #{record.projectDetail:VARCHAR}, EMPLOYEE_ID = #{record.employeeId:VARCHAR}
    <if test="_parameter != null"> 
      <include refid="tbl_project_team_info.Criteria_Where_Clause"/> 
    </if> 
  </update>
  <update id="updateByPrimaryKeySelective" parameterType="com.i2shopping.i2work.operation.core.project.model.ProjectTeamInfo"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Mon Jun 22 12:54:04 CST 2015.
    --> update tbl_project_team_info 
    <trim prefix="set"> 
      <if test="contractNo != null">CONTRACT_NO = #{contractNo:VARCHAR} ,</if>  
      <if test="rcontractTeamName != null">CONTRACT_TEAM_NAME = #{contractTeamName:VARCHAR} ,</if>  
      <if test="projectDetail != null">PROJECT_DETAIL = #{projectDetail:VARCHAR} ,</if>  
      <if test="employeeId != null">EMPLOYEE_ID = #{employeeId:VARCHAR} ,</if> 
    </trim> where CONTRACT_TEAM_NO = #{contractTeamNo:VARCHAR}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.i2shopping.i2work.operation.core.project.model.ProjectTeamInfo"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Mon Jun 22 12:54:04 CST 2015.
    --> update tbl_project_team_info set CONTRACT_NO = #{contractNo:VARCHAR}, CONTRACT_TEAM_NAME = #{contractTeamName:VARCHAR}, PROJECT_DETAIL = #{projectDetail:VARCHAR}, EMPLOYEE_ID = #{employeeId:VARCHAR} where CONTRACT_TEAM_NO = #{contractTeamNo:VARCHAR}
  </update>
  <select id="selectByContractNo" resultMap="BaseResultMap" parameterType="java.lang.String">select * from tbl_project_team_info where CONTRACT_NO = #{value:VARCHAR}</select>
  <select id="selectByTeamNo" resultMap="ResultMapExt" parameterType="com.i2shopping.i2work.operation.core.project.model.ProjectTeamInfo"> 
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Mon Jun 22 12:54:04 CST 2015.
    --> select info.*,o.EMPLOYEE_NAME,o.MOBILE from tbl_project_team_info info LEFT JOIN tbl_employee_info o ON info.EMPLOYEE_ID=o.EMPLOYEE_ID where info.CONTRACT_TEAM_NO = #{contractTeamNo:VARCHAR}
  </select>
  <select id="selectProjectTeamByProjectIdAndEmpId" resultMap="BaseResultMap" parameterType="java.util.Map">select fo.* from tbl_project_team_info fo , tbl_project_team_emp_rel rel where fo.CONTRACT_TEAM_NO=rel.CONTRACT_TEAM_NO and fo.CONTRACT_NO=#{projectId} and rel.EMPLOYEE_ID=#{employeeId}</select>
</mapper>
