<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="tbl_employee_income_expenditure_info">
  <resultMap id="BaseResultMap" type="com.i2shopping.i2work.operation.core.incomeexpenditure.model.IncomeExpenditureInfo">
    <!--
          WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
          This element was generated on Thu Apr 19 15:03:50 CST 2012.
        -->
    <result column="incomeExpenditure_id" property="incomeExpenditureId" jdbcType="VARCHAR"/>
    <result column="employee_id" property="employeeId" jdbcType="VARCHAR"/>
    <result column="department_id" property="departmentId" jdbcType="VARCHAR"/>
    <result column="contant_no" property="contantNo" jdbcType="VARCHAR"/>
    <result column="employee_money" property="employeeMoney" jdbcType="VARCHAR"/>
    <result column="employee_social_security" property="employeeSocialSecurity" jdbcType="VARCHAR"/>
    <result column="employee_accumulation_fund" property="employeeAccumulationFund" jdbcType="VARCHAR"/>
    <result column="employee_meal_supplement" property="employeeMealSupplement" jdbcType="VARCHAR"/>
    <result column="employee_pc_subsidy" property="employeePcSubsidy" jdbcType="VARCHAR"/>
    <result column="employee_late_subsidy" property="employeeLateSubsidy" jdbcType="VARCHAR"/>
    <result column="employee_other_subsidy" property="employeeOtherSubsidy" jdbcType="VARCHAR"/>
    <result column="employee_expense" property="employeeExpense" jdbcType="VARCHAR"/>
    <result column="export_time" property="exportTime" jdbcType="VARCHAR"/>
    <result column="rename1" property="rename1" jdbcType="VARCHAR"/>
    <result column="rename2" property="rename2" jdbcType="VARCHAR"/>
    <result column="rename3" property="rename3" jdbcType="VARCHAR"/>
  </resultMap>
  <select id="selectByIncomeExpenditure" resultMap="BaseResultMap" parameterType="com.i2shopping.i2work.operation.core.incomeexpenditure.model.IncomeExpenditureInfo">select * from tbl_employee_income_expenditure_info 
    <trim prefix="where"> 
      <if test="incomeExpenditureId != null">and incomeExpenditure_id = #{incomeExpenditureId:VARCHAR}</if>  
      <if test="employeeId != null">and employee_id = #{employeeId:VARCHAR}</if>  
      <if test="departmentId != null">and department_id = #{departmentId:VARCHAR}</if>  
      <if test="contantNo != null">and contant_no = #{contantNo:VARCHAR}</if>  
      <if test="employeeMoney != null">and employee_money = #{employeeMoney:VARCHAR}</if>  
      <if test="employeeSocialSecurity != null">and employee_social_security = #{employeeSocialSecurity:VARCHAR}</if>  
      <if test="employeeAccumulationFund != null">and employee_accumulation_fund = #{employeeAccumulationFund:VARCHAR}</if>  
      <if test="employeeMealSupplement != null">and employee_meal_supplement = #{employeeMealSupplement:VARCHAR}</if>  
      <if test="employeePcSubsidy != null">and employee_pc_subsidy = #{employeePcSubsidy:VARCHAR}</if>  
      <if test="employeeLateSubsidy != null">and employee_late_subsidy = #{employeeLateSubsidy:VARCHAR}</if>  
      <if test="employeeOtherSubsidy != null">and employee_other_subsidy = #{employeeOtherSubsidy:VARCHAR}</if>  
      <if test="employeeExpense != null">and employee_expense = #{employeeExpense:VARCHAR}</if>  
      <if test="exportTime != null">and export_time = #{exportTime:VARCHAR}</if>  
      <if test="rename1 != null">and rename1 = #{rename1:VARCHAR}</if>  
      <if test="rename2 != null">and rename2 = #{rename2:VARCHAR}</if>  
      <if test="rename3 != null">and rename3 = #{rename3:VARCHAR}</if> 
    </trim> order by export_time desc;
  </select>
  <!-- 查询最近的导入的员工预算 -->
  <select id="selectByIncomeExpenditureOrderByExportTime" resultMap="BaseResultMap" parameterType="com.i2shopping.i2work.operation.core.incomeexpenditure.model.IncomeExpenditureInfo">SELECT * FROM ( SELECT tei.incomeExpenditure_id, tei.employee_id, tei.department_id, tei.contant_no, tei.employee_money, tei.employee_social_security, tei.employee_accumulation_fund, tei.employee_meal_supplement, tei.employee_pc_subsidy, tei.employee_late_subsidy, tei.employee_other_subsidy, tei.employee_expense, tei.export_time, tei.rename1, tei.rename2, tei.rename3 FROM tbl_employee_income_expenditure_info tei,tbl_employee_info emp WHERE tei.employee_id = emp.EMPLOYEE_ID AND emp.IS_ON_DUTY = '01' ORDER BY tei.export_time DESC )A GROUP BY A.employee_id</select>
  <insert id="insertIncomeExpenditureSelective" parameterType="com.i2shopping.i2work.operation.core.incomeexpenditure.model.IncomeExpenditureInfo"> 
    <!--
          WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
          This element was generated on Wed Jul 08 17:48:50 CST 2015.
        --> insert into tbl_employee_income_expenditure_info 
    <trim prefix="("> 
      <if test="incomeExpenditureId != null and incomeExpenditureId != ''">incomeExpenditure_id ,</if>  
      <if test="employeeId != null and employeeId != ''">employee_id ,</if>  
      <if test="departmentId != null and departmentId != ''">department_id ,</if>  
      <if test="contantNo != null and contantNo != ''">contant_no ,</if>  
      <if test="employeeMoney != null and employeeMoney != ''">employee_money ,</if>  
      <if test="employeeSocialSecurity != null and employeeSocialSecurity != ''">employee_social_security ,</if>  
      <if test="employeeAccumulationFund != null and employeeAccumulationFund != ''">employee_accumulation_fund ,</if>  
      <if test="employeeMealSupplement != null and employeeMealSupplement != ''">employee_meal_supplement ,</if>  
      <if test="employeePcSubsidy != null and employeePcSubsidy != ''">employee_pc_subsidy ,</if>  
      <if test="employeeLateSubsidy != null and employeeLateSubsidy != ''">employee_late_subsidy ,</if>  
      <if test="employeeOtherSubsidy != null and employeeOtherSubsidy != ''">employee_other_subsidy ,</if>  
      <if test="employeeExpense != null and employeeExpense != ''">employee_expense ,</if>  
      <if test="exportTime != null and exportTime != ''">export_time ,</if>  
      <if test="rename1 != null and rename1 != ''">rename1 ,</if>  
      <if test="rename2 != null and rename2 != ''">rename2 ,</if>  
      <if test="rename3 != null and rename3 != ''">rename3 ,</if> )
    </trim> values 
    <trim prefix="("> 
      <if test="incomeExpenditureId != null and incomeExpenditureId != ''">#{incomeExpenditureId:VARCHAR} ,</if>  
      <if test="employeeId != null and employeeId != ''">#{employeeId:VARCHAR} ,</if>  
      <if test="departmentId != null and departmentId != ''">#{departmentId:VARCHAR} ,</if>  
      <if test="contantNo != null and contantNo != ''">#{contantNo:VARCHAR} ,</if>  
      <if test="employeeMoney != null and employeeMoney != ''">#{employeeMoney:VARCHAR} ,</if>  
      <if test="employeeSocialSecurity != null and employeeSocialSecurity != ''">#{employeeSocialSecurity:VARCHAR} ,</if>  
      <if test="employeeAccumulationFund != null and employeeAccumulationFund != ''">#{employeeAccumulationFund:VARCHAR} ,</if>  
      <if test="employeeMealSupplement != null and employeeMealSupplement != ''">#{employeeMealSupplement:VARCHAR} ,</if>  
      <if test="employeePcSubsidy != null and employeePcSubsidy != ''">#{employeePcSubsidy:VARCHAR} ,</if>  
      <if test="employeeLateSubsidy != null and employeeLateSubsidy != ''">#{employeeLateSubsidy:VARCHAR} ,</if>  
      <if test="employeeOtherSubsidy != null and employeeOtherSubsidy != ''">#{employeeOtherSubsidy:VARCHAR} ,</if>  
      <if test="employeeExpense != null and employeeExpense != ''">#{employeeExpense:VARCHAR} ,</if>  
      <if test="exportTime != null and exportTime != ''">#{exportTime:VARCHAR} ,</if>  
      <if test="rename1 != null and rename1 != ''">#{rename1:VARCHAR} ,</if>  
      <if test="rename2 != null and rename2 != ''">#{rename2:VARCHAR} ,</if>  
      <if test="rename3 != null and rename3 != ''">#{rename3:VARCHAR} ,</if> )
    </trim> 
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.i2shopping.i2work.operation.core.incomeexpenditure.model.IncomeExpenditureInfo"> 
    <!--
          WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
          This element was generated on Wed Jul 08 17:48:50 CST 2015.
        --> update tbl_employee_income_expenditure_info 
    <trim prefix="set"> 
      <if test="incomeExpenditureId != null">incomeExpenditure_id = #{incomeExpenditured:VARCHAR} ,</if>  
      <if test="employeeId != null">employee_id = #{employeeId:VARCHAR} ,</if>  
      <if test="departmentId != null">department_id = #{departmentId:VARCHAR} ,</if>  
      <if test="contantNo != null">contant_no = #{contantNo:VARCHAR} ,</if>  
      <if test="employeeMoney != null">employee_money = #{employeeMoney:VARCHAR} ,</if>  
      <if test="employeeSocialSecurity != null">employee_social_security = #{employeeSocialSecurity:VARCHAR} ,</if>  
      <if test="employeeAccumulationFund != null">employee_accumulation_fund = #{employeeAccumulationFund:VARCHAR} ,</if>  
      <if test="employeeMealSupplement != null">employee_meal_supplement = #{employeeMealSupplement:VARCHAR} ,</if>  
      <if test="employeePcSubsidy != null">employee_pc_subsidy = #{employeePcSubsidy:VARCHAR} ,</if>  
      <if test="employeeLateSubsidy != null">employee_late_subsidy = #{employeeLateSubsidy:VARCHAR} ,</if>  
      <if test="employeeOtherSubsidy != null">employee_other_subsidy = #{employeeOtherSubsidy:VARCHAR} ,</if>  
      <if test="employeeExpense != null">employee_expense = #{employeeExpense:VARCHAR} ,</if>  
      <if test="exportTime != null">export_time = #{exportTime:VARCHAR} ,</if>  
      <if test="rename1 != null">rename1 = #{rename1:VARCHAR} ,</if>  
      <if test="rename2 != null">rename2 = #{rename2:VARCHAR} ,</if>  
      <if test="rename3 != null">rename3 = #{rename3:VARCHAR} ,</if> 
    </trim> where employee_id = #{employeeId:VARCHAR}
  </update>
</mapper>
