<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="tbl_com_organ_struct">
    <resultMap id="BaseResultMap" class="com.i2shopping.i2work.operation.core.employee.model.ComOrganStruct">
        <!--
          WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
          This element was generated on Wed Jul 08 15:37:24 CST 2015.
        -->
        <result column="CAT_ID" property="catId" jdbcType="VARCHAR"/>
        <result column="COM_ID" property="comId" jdbcType="VARCHAR"/>
        <result column="PARENT_CAT_ID" property="parentCatId" jdbcType="VARCHAR"/>
        <result column="PARENT_COM_ID" property="parentComId" jdbcType="VARCHAR"/>
        <result column="GRADE" property="grade" jdbcType="INTEGER"/>
    </resultMap>

    <resultMap id="ResultMapExt" class="com.i2shopping.i2work.operation.core.employee.model.ComOrganStruct"
               extends="BaseResultMap">
        <result property="companyInfo" select="tbl_company.selectById" column="COM_ID"/>
        <result property="parentCompanyInfo" select="tbl_company.selectById" column="PARENT_COM_ID"/>
    </resultMap>


    <select id="selectByAllStructs" resultMap="ResultMapExt" parameterClass="java.lang.String">
      SELECT *
      FROM tbl_com_organ_struct
      WHERE CAT_ID !=#value:VARCHAR#
      ORDER BY GRADE,CAT_ID
    </select>

</sqlMap>