<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="TBL_SYS_PARAMS" >
  <resultMap id="BaseResultMap" class="com.i2shopping.i2work.operation.core.system.model.SysParams" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Apr 06 17:05:30 CST 2012.
    -->
    <result column="INNER_NAME" property="innerName" 	jdbcType="VARCHAR" />
    <result column="OUTER_NAME" property="outerName" 	jdbcType="VARCHAR" />
    <result column="VALUE" 		property="value" 		jdbcType="VARCHAR" />
    <result column="TYPE" 		property="type" 		jdbcType="VARCHAR" />
    <result column="STATUS" 	property="status" 		jdbcType="VARCHAR" />
    <result column="MEMO" 		property="memo" 		jdbcType="VARCHAR" />
  </resultMap>
  <sql id="Criteria_Where_Clause" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Apr 06 17:05:30 CST 2012.
    -->
    <iterate property="oredCriteria" conjunction="or" prepend="where" removeFirstPrepend="iterate" >
      <isEqual property="oredCriteria[].valid" compareValue="true" >
        (
        <iterate prepend="and" property="oredCriteria[].criteriaWithoutValue" conjunction="and" >
          $oredCriteria[].criteriaWithoutValue[]$
        </iterate>
        <iterate prepend="and" property="oredCriteria[].criteriaWithSingleValue" conjunction="and" >
          $oredCriteria[].criteriaWithSingleValue[].condition$
            #oredCriteria[].criteriaWithSingleValue[].value#
        </iterate>
        <iterate prepend="and" property="oredCriteria[].criteriaWithListValue" conjunction="and" >
          $oredCriteria[].criteriaWithListValue[].condition$
          <iterate property="oredCriteria[].criteriaWithListValue[].values" open="(" close=")" conjunction="," >
            #oredCriteria[].criteriaWithListValue[].values[]#
          </iterate>
        </iterate>
        <iterate prepend="and" property="oredCriteria[].criteriaWithBetweenValue" conjunction="and" >
          $oredCriteria[].criteriaWithBetweenValue[].condition$
          #oredCriteria[].criteriaWithBetweenValue[].values[0]# and
          #oredCriteria[].criteriaWithBetweenValue[].values[1]#
        </iterate>
        )
      </isEqual>
    </iterate>
  </sql>
  <sql id="Params_Where_Clause">
        <isNotEmpty prepend="and" property="outerName">
                A.OUTER_NAME like '%'||#outerName#||'%'
        </isNotEmpty>
        <isNotEmpty prepend="and" property="innerName">
                A.INNER_NAME like '%'||#innerName#||'%'
        </isNotEmpty>
        <isNotEmpty prepend="and" property="type">
                A.TYPE like '%'||#type#||'%'
        </isNotEmpty>
        <isNotEmpty prepend="and" property="memo">
                A.MEMO like '%'||#memo#||'%'
        </isNotEmpty>
        <isNotEmpty prepend="and" property="properties.sqlStatemnet">
        		A.INNER_NAME in 
        		('BlackAndWhiteSwitch','FinanceCategoryNo','ICBCGoldCategoryNo','NonInvOriInsProdCategoryNo',
        		'OrderDefaultInvalidTime','SeckillDeadTerm','SalePromotionDeadTerm','DefaultReceivingTerm',
        		'DefaultFeedbackTerm','IcbcMallAgreement')
        </isNotEmpty>
    </sql>
  <select id="selectByCriteria" resultMap="BaseResultMap" parameterClass="com.i2shopping.i2work.operation.core.system.model.SysParamsCriteria" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Apr 06 17:05:30 CST 2012.
    -->
    select INNER_NAME, OUTER_NAME, VALUE, TYPE, STATUS, MEMO
    from tbl_sys_params
    <isParameterPresent >
      <include refid="TBL_SYS_PARAMS.Criteria_Where_Clause" />
    </isParameterPresent>
  </select>
  <select id="selectMaxInnerName" resultClass="java.lang.String" >
  	select MAX(INNER_NAME) as INNER_NAME from tbl_sys_params
  </select>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterClass="com.i2shopping.i2work.operation.core.system.model.SysParams" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Apr 06 17:05:30 CST 2012.
    -->
    select INNER_NAME, OUTER_NAME, VALUE, TYPE, STATUS, MEMO
    from tbl_sys_params
    where INNER_NAME = #innerName:VARCHAR#
  </select>
  <select id="selectByType" resultMap="BaseResultMap" parameterClass="com.i2shopping.i2work.operation.core.system.model.SysParams" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Apr 06 17:05:30 CST 2012.
    -->
    select tbl_sys_params.*
    from tbl_sys_params
    where TYPE=#type:VARCHAR# and STATUS=1
  </select>
  <delete id="deleteByPrimaryKey" parameterClass="com.i2shopping.i2work.operation.core.system.model.SysParams" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Apr 06 17:05:30 CST 2012.
    -->
    delete from tbl_sys_params
    where INNER_NAME = #innerName:VARCHAR#
  </delete>
  <delete id="deleteByCriteria" parameterClass="com.i2shopping.i2work.operation.core.system.model.SysParamsCriteria" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Apr 06 17:05:30 CST 2012.
    -->
    delete from tbl_sys_params
    <include refid="TBL_SYS_PARAMS.Criteria_Where_Clause" />
  </delete>
  <insert id="insert" parameterClass="com.i2shopping.i2work.operation.core.system.model.SysParams" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Apr 06 17:05:30 CST 2012.
    -->
    insert into tbl_sys_params (INNER_NAME, OUTER_NAME, VALUE, TYPE, STATUS, MEMO)
    values (#innerName:VARCHAR#, #outerName:VARCHAR#, #value:VARCHAR#, #type:VARCHAR#,
    #status:VARCHAR#, #memo:VARCHAR#)
  </insert>
  <insert id="insertSelective" parameterClass="com.i2shopping.i2work.operation.core.system.model.SysParams" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Apr 06 17:05:30 CST 2012.
    -->
    insert into tbl_sys_params
    <dynamic prepend="(" >
      <isNotNull prepend="," property="innerName" >
        INNER_NAME
      </isNotNull>
      <isNotNull prepend="," property="outerName" >
        OUTER_NAME
      </isNotNull>
      <isNotNull prepend="," property="value" >
        VALUE
      </isNotNull>
      <isNotNull prepend="," property="type" >
        TYPE
      </isNotNull>
      <isNotNull prepend="," property="status" >
        STATUS
      </isNotNull>
      <isNotNull prepend="," property="memo" >
        MEMO
      </isNotNull>
      )
    </dynamic>
    values
    <dynamic prepend="(" >
      <isNotNull prepend="," property="innerName" >
        #innerName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="outerName" >
        #outerName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="value" >
        #value:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="type" >
        #type:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="status" >
        #status:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="memo" >
        #memo:VARCHAR#
      </isNotNull>
      )
    </dynamic>
  </insert>
  <select id="countByCriteria" parameterClass="com.i2shopping.i2work.operation.core.system.model.SysParamsCriteria" resultClass="java.lang.Integer" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Apr 06 17:05:30 CST 2012.
    -->
    select count(*) from tbl_sys_params
    <include refid="TBL_SYS_PARAMS.Criteria_Where_Clause" />
  </select>
  <select id="countByParams" parameterClass="com.i2shopping.i2work.operation.core.system.model.SysParams" resultClass="java.lang.Integer" >
    select count(1) from tbl_sys_params A
    <dynamic prepend="where">
    	<include refid="TBL_SYS_PARAMS.Params_Where_Clause" />
   	</dynamic>
  </select>
  <update id="updateByCriteriaSelective" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Apr 06 17:05:30 CST 2012.
    -->
    update tbl_sys_params
    <dynamic prepend="set" >
      <isNotNull prepend="," property="record.innerName" >
        INNER_NAME = #record.innerName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.outerName" >
        OUTER_NAME = #record.outerName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.value" >
        VALUE = #record.value:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.type" >
        TYPE = #record.type:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.status" >
        STATUS = #record.status:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.memo" >
        MEMO = #record.memo:VARCHAR#
      </isNotNull>
    </dynamic>
    <isParameterPresent >
      <include refid="TBL_SYS_PARAMS.Criteria_Where_Clause" />
    </isParameterPresent>
  </update>
  <!-- 查询所有记录（分页） -->
  <select id="countByExample" parameterClass="com.i2shopping.i2work.operation.core.common.model.Role" resultClass="java.lang.Integer" >
    SELECT count(1) FROM (
    SELECT
    B.INNER_NAME,
    B.OUTER_NAME,
    B.VALUE,
    B.TYPE,
    B.STATUS,
    B.MEMO
    FROM tbl_sys_params B
    ) A
    <dynamic prepend="where">
            <include refid="TBL_SYS_PARAMS.Params_Where_Clause" />
        </dynamic>

  </select>
  
  <!-- 统计指定条件的记录个数（分页） -->
  <select id="selectAllByPage" resultMap="BaseResultMap" parameterClass="com.i2shopping.i2work.operation.core.system.model.SysParams">
    SELECT A.* FROM (
    SELECT
    B.INNER_NAME,
    B.OUTER_NAME,
    B.VALUE,
    B.TYPE,
    B.STATUS,
    B.MEMO
    FROM tbl_sys_params B
    ) A
    <dynamic prepend="where">
          <include refid="TBL_SYS_PARAMS.Params_Where_Clause" />
      </dynamic>
  </select>
  
  <update id="updateByCriteria" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Apr 06 17:05:30 CST 2012.
    -->
    update tbl_sys_params
    set INNER_NAME = #record.innerName:VARCHAR#,
    OUTER_NAME = #record.outerName:VARCHAR#,
    VALUE = #record.value:VARCHAR#,
    TYPE = #record.type:VARCHAR#,
    STATUS = #record.status:VARCHAR#,
    MEMO = #record.memo:VARCHAR#
    <isParameterPresent >
      <include refid="TBL_SYS_PARAMS.Criteria_Where_Clause" />
    </isParameterPresent>
  </update>
  <update id="updateByPrimaryKeySelective" parameterClass="com.i2shopping.i2work.operation.core.system.model.SysParams" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Apr 06 17:05:30 CST 2012.
    -->
    update tbl_sys_params
    <dynamic prepend="set" >
      <isNotNull prepend="," property="outerName" >
        OUTER_NAME = #outerName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="value" >
        VALUE = #value:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="type" >
        TYPE = #type:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="status" >
        STATUS = #status:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="memo" >
        MEMO = #memo:VARCHAR#
      </isNotNull>
    </dynamic>
    where INNER_NAME = #innerName:VARCHAR#
  </update>
  <update id="updateByPrimaryKey" parameterClass="com.i2shopping.i2work.operation.core.system.model.SysParams" >
    <!--
      WARNING - This element is automatically generated by Apache iBATIS ibator, do not modify.
      This element was generated on Fri Apr 06 17:05:30 CST 2012.
    -->
    update tbl_sys_params
    set OUTER_NAME = #outerName:VARCHAR#,
    VALUE = #value:VARCHAR#,
    TYPE = #type:VARCHAR#,
    STATUS = #status:VARCHAR#,
    MEMO = #memo:VARCHAR#
    where INNER_NAME = #innerName:VARCHAR#
  </update>
  <!-- operation 查询系统设置 分页查询集合 -->
   <select id="findSysParamslist" resultMap="BaseResultMap" parameterClass="com.i2shopping.i2work.operation.core.system.model.SysParams">
    select m.* from tbl_sys_params m    
    <dynamic prepend="where">
        <isNotEmpty prepend="and" property="innerName">
				m.INNER_NAME = #innerName:VARCHAR#
		</isNotEmpty>
		<isNotEmpty prepend="and" property="outerName" >
       			m.OUTER_NAME = #outerName:VARCHAR#
      	</isNotEmpty>
    </dynamic>
    ORDER BY m.INNER_NAME asc 
  </select>
  <!-- operation 查询系统设置 分页查询集合 查询总数量 -->
  <select id="findSysParamslistCount"  resultClass="java.lang.Integer" parameterClass="com.i2shopping.i2work.operation.core.system.model.SysParams">
     select  count(*) from tbl_sys_params where   1 = 1
  </select>
  <!-- operation 修改设置参数的 -->
   <update id="updateByPrimaryKeySelectiveToOperation" parameterClass="com.i2shopping.i2work.operation.core.system.model.SysParams" >
    update tbl_sys_params
    <dynamic prepend="set" >
      <isNotNull prepend="," property="outerName" >
        OUTER_NAME = #outerName:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="value" >
        VALUE = #value:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="type" >
        TYPE = #type:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="status" >
        STATUS = #status:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="memo" >
        MEMO = #memo:VARCHAR#
      </isNotNull>
    </dynamic>
    where INNER_NAME = #innerName:VARCHAR#
  </update>

  <select id="selectInfoByDepartmentArea" resultClass="com.i2shopping.i2work.operation.core.system.model.SysParams" parameterClass="java.lang.String">
    select  *
    from
    tbl_sys_params
    where
    INNER_NAME=#innerName:VARCHAR#
  </select>
</sqlMap>