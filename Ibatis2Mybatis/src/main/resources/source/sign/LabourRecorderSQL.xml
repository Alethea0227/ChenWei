<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="tbl_labour_recorder">
	<resultMap id="BaseResultMap"
		class="com.i2shopping.i2work.operation.core.record.model.LabourRecorder">
		<!-- WARNING - This element is automatically generated by Apache iBATIS 
			ibator, do not modify. This element was generated on Tue May 07 18:01:06 
			CST 2013. -->
		<result column="CONTRACT_NO" property="contractNo" jdbcType="VARCHAR" />
		<result column="EMPLOYEE_ID" property="employeeId" jdbcType="CHAR" />
		<result column="LABOUR_DATE" property="labourDate" jdbcType="DATE" />
		<result column="LABOUR_TYPE" property="labourType" jdbcType="CHAR" />
		<result column="STANDARD_LABOUR" property="standardLabour"
			jdbcType="DECIMAL" />
		<result column="PM_ID" property="pmId" jdbcType="CHAR" />
		<result column="IS_ADDITIONAL" property="isAdditional"
			jdbcType="CHAR" />
		<result column="INVALID_REASON" property="invalidReason"
			jdbcType="CHAR" />
		<result column="IS_TRAVEL" property="isTravel" jdbcType="CHAR" />
		<result column="RECORD_TIME" property="recordTime" jdbcType="DATE" />
		<result column="REMARK" property="remark" jdbcType="VARCHAR" />
		<result column="OVERTIME_LABOUR" property="overtimeLabour"
			jdbcType="DECIMAL" />
		<result column="LABOUR_STATUS" property="labourStatus"
			jdbcType="VARCHAR" />
		<result column="{contractNo=CONTRACT_NO}" property="projectInfo"
			select="tbl_project_info.selectByPrimaryKey" />
		<result column="{employeeId=EMPLOYEE_ID}" property="employeeInfo"
			select="tbl_employee_info.selectByPrimaryKey" />
	</resultMap>
	<resultMap id="SecondResultMap"
		class="com.i2shopping.i2work.operation.core.record.model.LabourRecorder">

		<result column="INVALID_REASON" property="invalidReason"
			jdbcType="CHAR" />
		<!-- <result column="CONTRACT_NO" property="contractNo" jdbcType="VARCHAR" 
			/> <result column="EMPLOYEE_ID" property="employeeId" jdbcType="CHAR" /> 
			<result column="LABOUR_DATE" property="labourDate" jdbcType="DATE" /> <result 
			column="{contractNo=CONTRACT_NO}" property="projectInfo" select="tbl_project_info.selectByContractNo" 
			/> <result column="{employeeId=EMPLOYEE_ID}" property="employeeInfo" select="tbl_employee_info.selectByEmployeeId" 
			/> -->
	</resultMap>
	<sql id="Criteria_Where_Clause">
		<!-- WARNING - This element is automatically generated by Apache iBATIS 
			ibator, do not modify. This element was generated on Tue May 07 18:01:06 
			CST 2013. -->
		<iterate property="oredCriteria" conjunction="or" prepend="where"
			removeFirstPrepend="iterate">
			<isEqual property="oredCriteria[].valid" compareValue="true">
				(
				<iterate prepend="and" property="oredCriteria[].criteriaWithoutValue"
					conjunction="and">
					$oredCriteria[].criteriaWithoutValue[]$
        </iterate>
				<iterate prepend="and" property="oredCriteria[].criteriaWithSingleValue"
					conjunction="and">
					$oredCriteria[].criteriaWithSingleValue[].condition$
					#oredCriteria[].criteriaWithSingleValue[].value#
        </iterate>
				<iterate prepend="and" property="oredCriteria[].criteriaWithListValue"
					conjunction="and">
					$oredCriteria[].criteriaWithListValue[].condition$
					<iterate property="oredCriteria[].criteriaWithListValue[].values"
						open="(" close=")" conjunction=",">
						#oredCriteria[].criteriaWithListValue[].values[]#
          </iterate>
				</iterate>
				<iterate prepend="and" property="oredCriteria[].criteriaWithBetweenValue"
					conjunction="and">
					$oredCriteria[].criteriaWithBetweenValue[].condition$
					#oredCriteria[].criteriaWithBetweenValue[].values[0]# and
					#oredCriteria[].criteriaWithBetweenValue[].values[1]#
        </iterate>
				)
			</isEqual>
		</iterate>
	</sql>
	<select id="selectByCriteria" resultMap="BaseResultMap"
		parameterClass="com.i2shopping.i2work.operation.core.record.model.LabourRecorderCriteria">
		<!-- WARNING - This element is automatically generated by Apache iBATIS 
			ibator, do not modify. This element was generated on Tue May 07 18:01:06 
			CST 2013. -->
		select CONTRACT_NO, EMPLOYEE_ID, LABOUR_DATE, LABOUR_TYPE,
		STANDARD_LABOUR, PM_ID,
		IS_ADDITIONAL, INVALID_REASON, IS_TRAVEL, RECORD_TIME,
		OVERTIME_LABOUR,REMARK,LABOUR_STATUS
		from tbl_labour_recorder
		<isParameterPresent>
			<include refid="tbl_labour_recorder.Criteria_Where_Clause" />
			<isNotNull property="orderByClause">
				order by $orderByClause$
      </isNotNull>
		</isParameterPresent>
	</select>
	<select id="selectByPrimaryKey" resultMap="BaseResultMap"
		parameterClass="com.i2shopping.i2work.operation.core.record.model.LabourRecorderKey">
		<!-- WARNING - This element is automatically generated by Apache iBATIS 
			ibator, do not modify. This element was generated on Tue May 07 18:01:06 
			CST 2013. -->
		select CONTRACT_NO, EMPLOYEE_ID, LABOUR_DATE, LABOUR_TYPE,
		STANDARD_LABOUR, PM_ID,
		IS_ADDITIONAL, INVALID_REASON, IS_TRAVEL, RECORD_TIME,
		OVERTIME_LABOUR,REMARK,LABOUR_STATUS
		from tbl_labour_recorder
		where 1=1
			<isNotNull prepend="and" property="contractNo">
				CONTRACT_NO = #contractNo:VARCHAR#
	      	</isNotNull>
			<isNotNull prepend="and" property="employeeId">
					EMPLOYEE_ID = #employeeId:CHAR#
	      	</isNotNull>
			<isNotNull prepend="and" property="labourDate">
				<![CDATA[
					LABOUR_DATE = date_format(#labourDate:DATE #,'%Y-%m-%d')
					]]>
	      	</isNotNull>
	</select>

	<select id="getLabourRecorderDistinctLabourDate" resultClass="java.lang.String">
		select DISTINCT(LABOUR_DATE) from tbl_labour_recorder;
  </select>

	<delete id="deleteByPrimaryKey"
		parameterClass="com.i2shopping.i2work.operation.core.record.model.LabourRecorderKey">
		<!-- WARNING - This element is automatically generated by Apache iBATIS 
			ibator, do not modify. This element was generated on Tue May 07 18:01:06 
			CST 2013. -->
		delete from tbl_labour_recorder
		where CONTRACT_NO = #contractNo:VARCHAR#
		and EMPLOYEE_ID = #employeeId:CHAR#
		and LABOUR_DATE = #labourDate:DATE#
	</delete>
	<delete id="deleteByCriteria"
		parameterClass="com.i2shopping.i2work.operation.core.record.model.LabourRecorderCriteria">
		<!-- WARNING - This element is automatically generated by Apache iBATIS 
			ibator, do not modify. This element was generated on Tue May 07 18:01:06 
			CST 2013. -->
		delete from tbl_labour_recorder
		<include refid="tbl_labour_recorder.Criteria_Where_Clause" />
	</delete>
	<insert id="insert" parameterClass="com.i2shopping.i2work.operation.core.record.model.LabourRecorder">
		<!-- WARNING - This element is automatically generated by Apache iBATIS 
			ibator, do not modify. This element was generated on Tue May 07 18:01:06 
			CST 2013. -->
		insert into tbl_labour_recorder (CONTRACT_NO, EMPLOYEE_ID,
		LABOUR_DATE, LABOUR_TYPE,
		STANDARD_LABOUR, PM_ID, IS_ADDITIONAL, INVALID_REASON, IS_TRAVEL, RECORD_TIME,
		OVERTIME_LABOUR,REMARK,LABOUR_STATUS)
		values (#contractNo:VARCHAR#, #employeeId:CHAR#, #labourDate:DATE#,
		#labourType:CHAR#,
		#standardLabour:DECIMAL#, #pmId:CHAR#, #isAdditional:CHAR#, #invalidReason:CHAR#,
		#isTravel:CHAR#, #recordTime:DATE#,
		#overtimeLabour:DECIMAL#,#remark:VARCHAR#,#labourStatus:VARCHAR#)
	</insert>
	<insert id="insertSelective" parameterClass="com.i2shopping.i2work.operation.core.record.model.LabourRecorder">
		<!-- WARNING - This element is automatically generated by Apache iBATIS 
			ibator, do not modify. This element was generated on Tue May 07 18:01:06 
			CST 2013. -->
		insert into tbl_labour_recorder
		<dynamic prepend="(">
			<isNotNull prepend="," property="contractNo">
				CONTRACT_NO
      </isNotNull>
			<isNotNull prepend="," property="employeeId">
				EMPLOYEE_ID
      </isNotNull>
			<isNotNull prepend="," property="labourDate">
				LABOUR_DATE
      </isNotNull>
			<isNotNull prepend="," property="labourType">
				LABOUR_TYPE
      </isNotNull>
			<isNotNull prepend="," property="standardLabour">
				STANDARD_LABOUR
      </isNotNull>
			<isNotNull prepend="," property="pmId">
				PM_ID
      </isNotNull>
			<isNotNull prepend="," property="isAdditional">
				IS_ADDITIONAL
      </isNotNull>
			<isNotNull prepend="," property="invalidReason">
				INVALID_REASON
      </isNotNull>
			<isNotNull prepend="," property="isTravel">
				IS_TRAVEL
      </isNotNull>
			<isNotNull prepend="," property="recordTime">
				RECORD_TIME
      </isNotNull>
			<isNotNull prepend="," property="overtimeLabour">
				OVERTIME_LABOUR
      </isNotNull>
			<isNotNull prepend="," property="remark">
				REMARK
      </isNotNull>
			<isNotNull prepend="," property="labourStatus">
				LABOUR_STATUS
      </isNotNull>
			)
		</dynamic>
		values
		<dynamic prepend="(">
			<isNotNull prepend="," property="contractNo">
				#contractNo:VARCHAR#
      </isNotNull>
			<isNotNull prepend="," property="employeeId">
				#employeeId:CHAR#
      </isNotNull>
			<isNotNull prepend="," property="labourDate">
				#labourDate:DATE#
      </isNotNull>
			<isNotNull prepend="," property="labourType">
				#labourType:CHAR#
      </isNotNull>
			<isNotNull prepend="," property="standardLabour">
				#standardLabour:DECIMAL#
      </isNotNull>
			<isNotNull prepend="," property="pmId">
				#pmId:CHAR#
      </isNotNull>
			<isNotNull prepend="," property="isAdditional">
				#isAdditional:CHAR#
      </isNotNull>
			<isNotNull prepend="," property="invalidReason">
				#invalidReason:CHAR#
      </isNotNull>
			<isNotNull prepend="," property="isTravel">
				#isTravel:CHAR#
      </isNotNull>
			<isNotNull prepend="," property="recordTime">
				#recordTime:DATE#
      </isNotNull>
			<isNotNull prepend="," property="overtimeLabour">
				#overtimeLabour:DECIMAL#
      </isNotNull>
			<isNotNull prepend="," property="remark">
				#remark:VARCHAR#
      </isNotNull>
			<isNotNull prepend="," property="labourStatus">
				#labourStatus:VARCHAR#
      </isNotNull>
			)
		</dynamic>
	</insert>
	<select id="countByCriteria"
		parameterClass="com.i2shopping.i2work.operation.core.record.model.LabourRecorderCriteria"
		resultClass="java.lang.Integer">
		<!-- WARNING - This element is automatically generated by Apache iBATIS 
			ibator, do not modify. This element was generated on Tue May 07 18:01:06 
			CST 2013. -->
		select count(*) from tbl_labour_recorder
		<include refid="tbl_labour_recorder.Criteria_Where_Clause" />
	</select>
	<update id="updateByCriteriaSelective">
		<!-- WARNING - This element is automatically generated by Apache iBATIS 
			ibator, do not modify. This element was generated on Tue May 07 18:01:06 
			CST 2013. -->
		update tbl_labour_recorder
		<dynamic prepend="set">
			<isNotNull prepend="," property="record.contractNo">
				CONTRACT_NO = #record.contractNo:VARCHAR#
      </isNotNull>
			<isNotNull prepend="," property="record.employeeId">
				EMPLOYEE_ID = #record.employeeId:CHAR#
      </isNotNull>
			<isNotNull prepend="," property="record.labourDate">
				LABOUR_DATE = #record.labourDate:DATE#
      </isNotNull>
			<isNotNull prepend="," property="record.labourType">
				LABOUR_TYPE = #record.labourType:CHAR#
      </isNotNull>
			<isNotNull prepend="," property="record.standardLabour">
				STANDARD_LABOUR = #record.standardLabour:DECIMAL#
      </isNotNull>
			<isNotNull prepend="," property="record.pmId">
				PM_ID = #record.pmId:CHAR#
      </isNotNull>
			<isNotNull prepend="," property="record.isAdditional">
				IS_ADDITIONAL = #record.isAdditional:CHAR#
      </isNotNull>
			<isNotNull prepend="," property="record.invalidReason">
				INVALID_REASON = #record.invalidReason:CHAR#
      </isNotNull>
			<isNotNull prepend="," property="record.isTravel">
				IS_TRAVEL = #record.isTravel:CHAR#
      </isNotNull>
			<isNotNull prepend="," property="record.recordTime">
				RECORD_TIME = #record.recordTime:DATE#
      </isNotNull>
			<isNotNull prepend="," property="record.overtimeLabour">
				OVERTIME_LABOUR = #record.overtimeLabour:DECIMAL#
      </isNotNull>
			<isNotNull prepend="," property="record.remark">
				REMARK = #record.remark:VARCHAR#
      </isNotNull>
			<isNotNull prepend="," property="record.labourStatus">
				LABOUR_STATUS = #record.labourStatus:VARCHAR#
      </isNotNull>
		</dynamic>
		<isParameterPresent>
			<include refid="tbl_labour_recorder.Criteria_Where_Clause" />
		</isParameterPresent>
	</update>
	<update id="updateByCriteria">
		<!-- WARNING - This element is automatically generated by Apache iBATIS 
			ibator, do not modify. This element was generated on Tue May 07 18:01:06 
			CST 2013. -->
		update tbl_labour_recorder
		set CONTRACT_NO = #record.contractNo:VARCHAR#,
		EMPLOYEE_ID = #record.employeeId:CHAR#,
		LABOUR_DATE = #record.labourDate:DATE#,
		LABOUR_TYPE = #record.labourType:CHAR#,
		STANDARD_LABOUR = #record.standardLabour:DECIMAL#,
		PM_ID = #record.pmId:CHAR#,
		IS_ADDITIONAL = #record.isAdditional:CHAR#,
		INVALID_REASON = #record.invalidReason:CHAR#,
		IS_TRAVEL = #record.isTravel:CHAR#,
		RECORD_TIME = #record.recordTime:DATE#,
		REMARK = #record.remark:VARCHAR#,
		OVERTIME_LABOUR = #record.overtimeLabour:DECIMAL#,
		REMARK = #record.remark:VARCHAR#,
		LABOUR_STATUS = #record.labourStatus:VARCHAR#
		<isParameterPresent>
			<include refid="tbl_labour_recorder.Criteria_Where_Clause" />
		</isParameterPresent>
	</update>
	<update id="updateByPrimaryKeySelective" parameterClass="com.i2shopping.i2work.operation.core.record.model.LabourRecorder">
		<!-- WARNING - This element is automatically generated by Apache iBATIS 
			ibator, do not modify. This element was generated on Tue May 07 18:01:06 
			CST 2013. -->
		update tbl_labour_recorder
		<dynamic prepend="set">
			<isNotNull prepend="," property="standardLabour">
				STANDARD_LABOUR = #standardLabour:DECIMAL#
      </isNotNull>
			<isNotNull prepend="," property="pmId">
				PM_ID = #pmId:CHAR#
      </isNotNull>
			<isNotNull prepend="," property="isAdditional">
				IS_ADDITIONAL = #isAdditional:CHAR#
      </isNotNull>
			<isNotNull prepend="," property="invalidReason">
				INVALID_REASON = #invalidReason:CHAR#
      </isNotNull>
			<isNotNull prepend="," property="isTravel">
				IS_TRAVEL = #isTravel:CHAR#
      </isNotNull>
			<isNotNull prepend="," property="recordTime">
				RECORD_TIME = #recordTime:DATE#
      </isNotNull>
			<isNotNull prepend="," property="overtimeLabour">
				OVERTIME_LABOUR = #overtimeLabour:DECIMAL#
      </isNotNull>
			<isNotNull prepend="," property="remark">
				REMARK = #remark:VARCHAR#
      </isNotNull>
			<isNotNull prepend="," property="labourStatus">
				LABOUR_STATUS = #labourStatus:VARCHAR#
      </isNotNull>
		</dynamic>
		where CONTRACT_NO = #contractNo:VARCHAR#
		and EMPLOYEE_ID = #employeeId:CHAR#
		and LABOUR_DATE = #labourDate:DATE#
		and LABOUR_TYPE = #labourType:CHAR#
	</update>
	<update id="updateByLabourRecorder" parameterClass="com.i2shopping.i2work.operation.core.record.model.LabourRecorder">
		<!-- WARNING - This element is automatically generated by Apache iBATIS 
			ibator, do not modify. This element was generated on Tue May 07 18:01:06 
			CST 2013. -->
		update tbl_labour_recorder
		<dynamic prepend="set">
			<isNotNull prepend="," property="standardLabour">
				STANDARD_LABOUR = #standardLabour:DECIMAL#
      </isNotNull>
			<isNotNull prepend="," property="pmId">
				PM_ID = #pmId:CHAR#
      </isNotNull>
			<isNotNull prepend="," property="isAdditional">
				IS_ADDITIONAL = #isAdditional:CHAR#
      </isNotNull>
			<isNotNull prepend="," property="invalidReason">
				INVALID_REASON = #invalidReason:CHAR#
      </isNotNull>
			<isNotNull prepend="," property="isTravel">
				IS_TRAVEL = #isTravel:CHAR#
      </isNotNull>
			<isNotNull prepend="," property="recordTime">
				RECORD_TIME = #recordTime:DATE#
      </isNotNull>
			<isNotNull prepend="," property="overtimeLabour">
				OVERTIME_LABOUR = #overtimeLabour:DECIMAL#
      </isNotNull>
			<isNotNull prepend="," property="labourType">
				LABOUR_TYPE = #labourType:CHAR#
	  </isNotNull>
			<isNotNull prepend="," property="remark">
				REMARK = #remark:VARCHAR#
      </isNotNull>
			<isNotNull prepend="," property="labourStatus">
				LABOUR_STATUS = #labourStatus:VARCHAR#
      </isNotNull>
		</dynamic>
		<dynamic prepend="where">
			<isNotNull prepend="and" property="contractNo">
				CONTRACT_NO = #contractNo:VARCHAR#
      </isNotNull>
			<isNotNull prepend="and" property="employeeId">
				EMPLOYEE_ID = #employeeId:CHAR#
      </isNotNull>
			<isNotNull prepend="and" property="labourDate">
				LABOUR_DATE = #labourDate:DATE#
      </isNotNull>
		</dynamic>
	</update>
	<update id="updateByPrimaryKey" parameterClass="com.i2shopping.i2work.operation.core.record.model.LabourRecorder">
		<!-- WARNING - This element is automatically generated by Apache iBATIS 
			ibator, do not modify. This element was generated on Tue May 07 18:01:06 
			CST 2013. -->
		update tbl_labour_recorder
		set STANDARD_LABOUR = #standardLabour:DECIMAL#,
		PM_ID = #pmId:CHAR#,
		IS_ADDITIONAL = #isAdditional:CHAR#,
		INVALID_REASON = #invalidReason:CHAR#,
		IS_TRAVEL = #isTravel:CHAR#,
		RECORD_TIME = #recordTime:DATE#,
		OVERTIME_LABOUR = #overtimeLabour:DECIMAL#,
		REMARK = #remark:VARCHAR#,
		LABOUR_STATUS = #labourStatus:VARCHAR#
		where CONTRACT_NO = #contractNo:VARCHAR#
		and EMPLOYEE_ID = #employeeId:CHAR#
		and LABOUR_DATE = #labourDate:DATE#
		and LABOUR_TYPE = #labourType:CHAR#
	</update>

	<select id="selectByProperties" resultMap="BaseResultMap" parameterClass="com.i2shopping.i2work.operation.core.record.model.LabourRecorder">
		<!-- select CONTRACT_NO, EMPLOYEE_ID, LABOUR_DATE, LABOUR_TYPE,
		STANDARD_LABOUR, PM_ID,
		IS_ADDITIONAL, INVALID_REASON, IS_TRAVEL, RECORD_TIME,
		OVERTIME_LABOUR,REMARK,LABOUR_STATUS
		from tbl_labour_recorder
		<dynamic prepend="where">
			  <isNotNull prepend="and" property="contractNo">
				      CONTRACT_NO = #contractNo:VARCHAR#
			  </isNotNull>
			  <isNotNull prepend="and" property="employeeId">
						EMPLOYEE_ID = #employeeId:CHAR#
			  </isNotNull>
					<isNotNull prepend="and" property="labourDate">
						LABOUR_DATE = #labourDate:DATE#
			  </isNotNull>
					<isNotNull prepend="and" property="labourType">
						LABOUR_TYPE = #labourType:CHAR#
			  </isNotNull>
					<isNotNull prepend="and" property="standardLabour">
						STANDARD_LABOUR = #standardLabour:DECIMAL#
			  </isNotNull>
					<isNotNull prepend="and" property="pmId">
						PM_ID = #pmId:CHAR#
			  </isNotNull>
					<isNotNull prepend="and" property="isAdditional">
						IS_ADDITIONAL = #isAdditional:CHAR#
			  </isNotNull>
					<isNotNull prepend="and" property="invalidReason">
						INVALID_REASON = #invalidReason:CHAR#
			  </isNotNull>
					<isNotNull prepend="and" property="isTravel">
						IS_TRAVEL = #isTravel:CHAR#
			  </isNotNull>
					<isNotNull prepend="and" property="recordTime">
						RECORD_TIME = #recordTime:DATE#
			  </isNotNull>
					<isNotNull prepend="and" property="overtimeLabour">
						OVERTIME_LABOUR = #overtimeLabour:DECIMAL#
			  </isNotNull>
					<isNotNull prepend="and" property="labourStatus">
						LABOUR_STATUS = #labourStatus:VARCHAR#
			  </isNotNull>
			  <isNotNull prepend="and" property="properties.exportTime">
						<![CDATA[
							date_format(LABOUR_DATE,'%Y-%m') = #properties.exportTime:VARCHAR#
						 ]]>
			  </isNotNull>
		</dynamic>
		-->
		select
			lr.CONTRACT_NO, lr.EMPLOYEE_ID, lr.LABOUR_DATE, lr.LABOUR_TYPE,
			lr.STANDARD_LABOUR, lr.PM_ID,
			lr.IS_ADDITIONAL, lr.INVALID_REASON, lr.IS_TRAVEL, lr.RECORD_TIME,
			lr.OVERTIME_LABOUR,lr.REMARK,LABOUR_STATUS
		from tbl_labour_recorder lr ,tbl_employee_info tei ,tbl_department_info dept
		where lr.EMPLOYEE_ID = tei.EMPLOYEE_ID
		and tei.DEPARTMENT_ID = dept.DEPARTMENT_ID
			<isNotNull prepend="and" property="contractNo">
				lr.CONTRACT_NO = #contractNo:VARCHAR#
			</isNotNull>
			<isNotNull prepend="and" property="employeeId">
				lr.EMPLOYEE_ID = #employeeId:CHAR#
			</isNotNull>
			<isNotNull prepend="and" property="labourDate">
				lr.LABOUR_DATE = #labourDate:DATE#
			</isNotNull>
			<isNotNull prepend="and" property="labourType">
				lr.LABOUR_TYPE = #labourType:CHAR#
			</isNotNull>
			<isNotNull prepend="and" property="standardLabour">
				lr.STANDARD_LABOUR = #standardLabour:DECIMAL#
			</isNotNull>
			<isNotNull prepend="and" property="pmId">
				lr.PM_ID = #pmId:CHAR#
			</isNotNull>
			<isNotNull prepend="and" property="isAdditional">
				lr.IS_ADDITIONAL = #isAdditional:CHAR#
			</isNotNull>
			<isNotNull prepend="and" property="invalidReason">
				lr.INVALID_REASON = #invalidReason:CHAR#
			</isNotNull>
			<isNotNull prepend="and" property="isTravel">
				lr.IS_TRAVEL = #isTravel:CHAR#
			</isNotNull>
			<isNotNull prepend="and" property="recordTime">
				lr.RECORD_TIME = #recordTime:DATE#
			</isNotNull>
			<isNotNull prepend="and" property="overtimeLabour">
				lr.OVERTIME_LABOUR = #overtimeLabour:DECIMAL#
			</isNotNull>
			<isNotNull prepend="and" property="labourStatus">
				lr.LABOUR_STATUS = #labourStatus:VARCHAR#
			</isNotNull>
			<isNotNull prepend="and" property="properties.exportStatTimeFrom">
				<![CDATA[
					date_format(lr.LABOUR_DATE,'%Y-%m-%d')>=#properties.exportStatTimeFrom:VARCHAR#
				]]>
			</isNotNull>
			<isNotNull prepend="and" property="properties.exportEndTimeFrom">
				<![CDATA[
                	 date_format(lr.LABOUR_DATE,'%Y-%m-%d')<=#properties.exportEndTimeFrom:VARCHAR#
                 ]]>
			</isNotNull>
			<isNotNull prepend="and" property="properties.defaultExportStatTimeFrom">
				<![CDATA[
               		 date_format(lr.LABOUR_DATE,'%Y-%m')>=#properties.defaultExportStatTimeFrom:VARCHAR#
                ]]>
			</isNotNull>
			<isNotNull prepend="and" property="properties.defaultExportEndTimeFrom">
				<![CDATA[
                	  date_format(lr.LABOUR_DATE,'%Y-%m')<=#properties.defaultExportEndTimeFrom:VARCHAR#
                ]]>
			</isNotNull>
			<isNotNull prepend="and" property="properties.exportComapyFrom">
				tei.BEYOND_COMPANY = #properties.exportComapyFrom:VARCHAR#
			</isNotNull>
			<isNotNull prepend="and" property="properties.exportDeptmentFrom">
				tei.DEPARTMENT_ID = #properties.exportDeptmentFrom:VARCHAR#
			</isNotNull>
			<isNotNull prepend="and" property="properties.exportAreaFrom">
				dept.area = #properties.exportAreaFrom:VARCHAR#
			</isNotNull>
			<isNotNull prepend="and" property="properties.exportContractNoFrom">
				lr.CONTRACT_NO  = #properties.exportContractNoFrom:VARCHAR#
			</isNotNull>
			<isNotNull prepend="and" property="properties.exportEmployeeName">
				tei.EMPLOYEE_NAME   = #properties.exportEmployeeName:VARCHAR#
			</isNotNull>
	</select>

	<select id="selectByDate" resultMap="SecondResultMap"
		parameterClass="com.i2shopping.i2work.operation.core.record.model.LabourRecorder">
		select INVALID_REASON
		from tbl_labour_recorder
		where CONTRACT_NO = #contractNo:VARCHAR#
		and EMPLOYEE_ID = #employeeId:CHAR#
		and LABOUR_DATE = #labourDate:DATE#
	</select>
</sqlMap>